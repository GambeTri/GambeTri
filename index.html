<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>GambeTri</title>
<style>
    body { font-family: Arial, sans-serif; margin: 0; background-color: #f2f2f2; color: #333; }
    header { background-color: #1b1b1b; color: white; padding: 1rem; text-align: center; }
    nav { display: flex; justify-content: center; background-color: #333; }
    nav button { background: none; color: white; border: none; padding: 1rem; cursor: pointer; font-size: 1rem; }
    nav button:hover { background-color: #555; }
    .section { display: none; padding: 2rem; }
    .active { display: block; }
    select { padding: 0.5rem; margin-bottom: 1rem; }
    canvas { background-color: #eee; padding: 1rem; border-radius: 8px; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { border: 1px solid #ccc; padding: 0.5rem; text-align: center; }
    th { background-color: #333; color: white; }
    .match-table { width: 100%; margin-top: 1rem; border-collapse: collapse; }
    .match-table td { padding: 0.5rem; text-align: center; vertical-align: middle; }
    .match-date { font-weight: bold; margin-top: 1rem; }
    .inicio h2 { font-size: 2.5em; color: #1a1a1a; margin-bottom: 10px; }
    .inicio p { font-size: 1.2em; color: #444; max-width: 700px; margin: 0 auto 20px; text-align: center; }
    .inicio img { display: block; max-width: 90%; height: auto; margin: 20px auto; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); }
    .top-pos { background-color: #d4edda; }
    .mid-pos { background-color: #fff3cd; }
    .low-pos { background-color: #f8d7da; }
    .escudo-equipo { height: 25px; width: 25px; object-fit: contain; display: block; margin: 0 auto; }
    .nombre-equipo { display: block; margin-top: 5px; }
    .celda-equipo { min-width: 120px; padding: 8px 5px; }
    /* Ajustes espec√≠ficos para escudos peque√±os */
    .escudo-equipo.ldu { height: 45px !important; width: 45px !important; }
    .escudo-equipo.macara { height: 45px !important; width: 45px !important; }
    .escudo-equipo.tecnico { height: 45px !important; width: 45px !important; }
    /* Estilos para el simulador */
    #partidos-simulador {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
    }
    .partido-simulado {
      background: white;
      padding: 10px;
      border-radius: 5px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      margin-bottom: 10px;
    }
    #tabla-simulada table {
      width: 100%;
      background: white;
      margin-top: 15px;
    }
    
    /* Nuevos estilos para el sistema de pesta√±as */
    .tabs-container {
        display: flex;
        flex-wrap: wrap;
        margin-bottom: 20px;
        border-bottom: 2px solid #1b1b1b;
    }
    .tab-button {
        padding: 10px 20px;
        background: #f2f2f2;
        border: none;
        cursor: pointer;
        font-size: 1rem;
        margin-right: 5px;
        border-radius: 5px 5px 0 0;
        transition: all 0.3s;
    }
    .tab-button:hover {
        background: #ddd;
    }
    .tab-button.active {
        background: #1b1b1b;
        color: white;
        font-weight: bold;
    }
    .tab-content {
        display: none;
        width: 100%;
        padding: 15px 0;
        animation: fadeIn 0.5s;
    }
    .tab-content.active {
        display: block;
    }
    .fecha-container {
        margin-bottom: 30px;
        background: white;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        overflow: hidden;
    }
    .fecha-header {
        background: #1b1b1b;
        color: white;
        padding: 10px 15px;
        font-weight: bold;
    }
    .fecha-body {
        padding: 15px;
    }
    .partido-row {
        display: flex;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #eee;
    }
    .partido-row.jugado {
        opacity: 0.8;
    }
    .partido-hora {
        width: 60px;
        font-weight: bold;
    }
    .partido-equipo {
        display: flex;
        align-items: center;
        width: 35%;
    }
    .partido-equipo.local {
        justify-content: flex-end;
    }
    .partido-equipo.visitante {
        justify-content: flex-start;
    }
    .partido-resultado {
        width: 60px;
        text-align: center;
        font-weight: bold;
    }
    .partido-escudo {
        width: 25px;
        height: 25px;
        margin: 0 10px;
    }
    .partido-vs {
        width: 30px;
        text-align: center;
        color: #666;
    }
    .fecha-status {
        display: inline-block;
        padding: 3px 8px;
        border-radius: 3px;
        font-size: 0.8rem;
        margin-left: 10px;
    }
    .status-pasada {
        background: #f8d7da;
        color: #721c24;
    }
    .status-actual {
        background: #d4edda;
        color: #155724;
    }
    .status-futura {
        background: #fff3cd;
        color: #856404;
    }
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    /* Estilos para el inicio mejorado */
    .hero-banner {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      background: linear-gradient(135deg, #1b1b1b 0%, #333 100%);
      color: white;
      padding: 2rem;
      border-radius: 10px;
      margin-bottom: 2rem;
    }

    .hero-content {
      flex: 1;
      min-width: 300px;
    }

    .hero-content h2 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
      color: white;
    }

    .subtitle {
      font-size: 1.2rem;
      margin-bottom: 1.5rem;
      opacity: 0.9;
    }

    .hero-image {
      max-width: 300px;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.3);
    }

    .stats-grid {
      display: flex;
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .stat-card {
      background: rgba(255,255,255,0.1);
      padding: 1rem;
      border-radius: 8px;
      text-align: center;
      flex: 1;
      min-width: 100px;
    }

    .stat-number {
      font-size: 2rem;
      font-weight: bold;
      color: #4CAF50;
    }

    .stat-label {
      font-size: 0.9rem;
      opacity: 0.8;
    }

    .features-container {
      margin: 3rem 0;
    }

    .features-container h3 {
      text-align: center;
      margin-bottom: 2rem;
      font-size: 1.8rem;
      color: #1b1b1b;
    }

    .features-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      justify-content: center;
    }

    .feature-card {
      background: white;
      border-radius: 10px;
      padding: 1.5rem;
      flex: 1;
      min-width: 250px;
      max-width: 350px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    }

    .feature-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .feature-card h4 {
      margin-top: 0;
      color: #1b1b1b;
    }

    .news-container {
      background: #f8f9fa;
      border-radius: 10px;
      padding: 1.5rem;
      margin-top: 2rem;
    }

    .news-container h3 {
      margin-top: 0;
      color: #1b1b1b;
      border-bottom: 2px solid #1b1b1b;
      padding-bottom: 0.5rem;
    }

    .news-ticker {
      margin-top: 1rem;
    }

    .news-item {
      padding: 0.8rem 0;
      border-bottom: 1px solid #ddd;
    }

    .news-item:last-child {
      border-bottom: none;
    }

    .news-date {
      display: inline-block;
      width: 100px;
      font-weight: bold;
      color: #1b1b1b;
    }

    .news-text {
      color: #333;
    }
    /* Estilos para m√≥viles */
    @media (max-width: 768px) {
        .tabs-container {
            overflow-x: auto;
            flex-wrap: nowrap;
        }
        .partido-equipo {
            flex-direction: column;
            text-align: center;
            width: 30%;
        }
        .partido-escudo {
            margin: 5px 0;
        }
    }
 @media (max-width: 768px) {       /* nuevos estilos */
      .hero-banner {
        flex-direction: column;
        text-align: center;
      }
      
      .hero-image {
        margin-top: 2rem;
      }
      
      .stats-grid {
        flex-wrap: wrap;
      }
      
      .feature-card {
        min-width: 100%;
      }
      
      .news-date {
        display: block;
        width: auto;
        margin-bottom: 0.3rem;
      }
    }
</style>
</head>
<body>
<header>
<h1>GambeTri</h1>
<p>El portal de estad√≠sticas del f√∫tbol ecuatoriano</p>
</header>
<nav>
<button onclick="showSection('inicio')">Inicio</button>
<button onclick="showSection('mano-a-mano')">Historial Mano a Mano</button>
<button onclick="showSection('posiciones')">Tabla de Posiciones</button>
<button onclick="showSection('partidos')">Calendario Completo</button>
<button onclick="showSection('simulador')">Simulador</button>
</nav>
<section class="section active inicio" id="inicio">
  <div class="hero-banner">
    <div class="hero-content">
      <h2>Bienvenido a GambeTri</h2>
      <p class="subtitle">El portal definitivo del f√∫tbol ecuatoriano</p>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number">16</div>
          <div class="stat-label">Equipos en LigaPro</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">30</div>
          <div class="stat-label">Fechas por temporada</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">67</div>
          <div class="stat-label">A√±os de historia</div>
        </div>
      </div>
    </div>
    <img alt="Imagen de inicio" src="logo-ultimo.png" class="hero-image"/>
  </div>
  
  <div class="features-container">
    <h3>¬øQu√© encontrar√°s en GambeTri?</h3>
    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon">üìä</div>
        <h4>Estad√≠sticas Completas</h4>
        <p>Datos detallados de todos los partidos, jugadores y equipos de la LigaPro.</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">üìÖ</div>
        <h4>Calendario Interactivo</h4>
        <p>Todos los partidos de la temporada con resultados en tiempo real.</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">üîÆ</div>
        <h4>Simulador de Posiciones</h4>
        <p>Proyecta c√≥mo quedar√≠a la tabla seg√∫n los resultados que pronostiques.</p>
      </div>
    </div>
  </div>
  
  <div class="news-container">
    <h3>√öltimas Noticias</h3>
    <div class="news-ticker">
      <div class="news-item">
        <span class="news-date">25/06/2025</span>
        <span class="news-text">Liga de Quito e Independiente del Valle empatan 1-1 en un emocionante cl√°sico capitalino.</span>
      </div>
      <div class="news-item">
        <span class="news-date">24/06/2025</span>
        <span class="news-text">Barcelona SC golea 5-0 a Mushuc Runa y se acerca a la cima de la tabla.</span>
      </div>
      <div class="news-item">
        <span class="news-date">23/06/2025</span>
        <span class="news-text">La FEF anuncia cambios en el formato de la Copa Ecuador para 2026.</span>
      </div>
    </div>
  </div>
</section>

<section class="section" id="partidos">
  <h2>Calendario Completo</h2>
  
  <div class="tabs-container">
    <button class="tab-button active" onclick="openTab('pasadas')">Fechas Pasadas</button>
    <button class="tab-button" onclick="openTab('actual')">Fecha Actual</button>
    <button class="tab-button" onclick="openTab('futuras')">Fechas Futuras</button>
    <button class="tab-button" onclick="openTab('hexagonal-a')">Hexagonal A</button>
    <button class="tab-button" onclick="openTab('hexagonal-b')">Hexagonal B</button>
    <button class="tab-button" onclick="openTab('cuadrangular')">Cuadrangular Descenso</button>
  </div>
  
  <!-- Fechas Pasadas -->
  <div id="pasadas" class="tab-content active">
    <h3>Fechas Jugadas</h3>
    <div id="pasadas-container"></div>
  </div>
  
  <!-- Fecha Actual -->
  <div id="actual" class="tab-content">
    <h3>Fecha en Juego</h3>
    <div id="actual-container"></div>
  </div>
  
  <!-- Fechas Futuras -->
  <div id="futuras" class="tab-content">
    <h3>Pr√≥ximas Fechas</h3>
    <div id="futuras-container"></div>
  </div>
  
  <!-- Hexagonal A -->
  <div id="hexagonal-a" class="tab-content">
    <h3>Hexagonal A (Clasificaci√≥n a Libertadores)</h3>
    <div id="hexagonal-a-container"></div>
  </div>
  
  <!-- Hexagonal B -->
  <div id="hexagonal-b" class="tab-content">
    <h3>Hexagonal B (Clasificaci√≥n a Sudamericana)</h3>
    <div id="hexagonal-b-container"></div>
  </div>
  
  <!-- Cuadrangular Descenso -->
  <div id="cuadrangular" class="tab-content">
    <h3>Cuadrangular de Descenso</h3>
    <div id="cuadrangular-container"></div>
  </div>
</section>

<section class="section" id="posiciones">
  <h2>Tabla de Posiciones</h2>
  
  <!-- Contenedor flexible para tabla + estad√≠sticas -->
  <div style="display: flex; flex-wrap: wrap; gap: 20px; align-items: flex-start;">
    
    <!-- Tabla de posiciones (izquierda) -->
    <div style="flex: 1; min-width: 300px;">
      <table style="width: 100%;">
        <thead>
          <tr><th>Pos</th><th>Equipo</th><th>PJ</th><th>PTS</th><th>PG</th><th>PE</th><th>PP</th><th>GF</th><th>GC</th><th>DF</th></tr>
        </thead>
        <tbody id="tabla-posiciones"></tbody>
      </table>
    </div>

    <!-- Estad√≠sticas (derecha) -->
    <div style="flex: 1; min-width: 280px; background: #f8f9fa; border-radius: 8px; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
      
      <!-- Top 5 Goleadores -->
      <h3 style="margin-top: 0; color: #d32f2f; border-bottom: 2px solid #d32f2f; padding-bottom: 5px;">‚öΩ Top 5 Goleadores</h3>
      <table style="width: 100%; font-size: 14px;">
        <thead>
          <tr><th>#</th><th>Jugador</th><th>Equipo</th><th>PJ</th><th>Min</th><th>G</th><th>G/P</th></tr>
        </thead>
        <tbody id="top-goleadores">
          <!-- Los datos se cargar√°n con JavaScript -->
        </tbody>
      </table>

      <!-- Top 5 Asistencias -->
      <h3 style="margin-top: 20px; color: #1976d2; border-bottom: 2px solid #1976d2; padding-bottom: 5px;">üéØ Top 5 Asistencias</h3>
      <table style="width: 100%; font-size: 14px;">
        <thead>
          <tr><th>#</th><th>Jugador</th><th>Equipo</th><th>PJ</th><th>Min</th><th>A</th><th>A/P</th></tr>
        </thead>
        <tbody id="top-asistencias">
          <!-- Los datos se cargar√°n con JavaScript -->
        </tbody>
      </table>
    </div>
  </div>

  <!-- Leyenda de colores -->
  <div class="leyenda-posiciones" style="margin-top: 20px; background: #f8f9fa; padding: 15px; border-radius: 8px; border: 1px solid #ddd;">
    <h3 style="margin-top: 0;">¬øQu√© significan los colores?</h3>
    <ul style="list-style-type: none; padding: 0; margin-bottom: 0;">
      <li style="margin-bottom: 8px;">
        <span style="display: inline-block; width: 20px; height: 20px; background-color: #d4edda; border: 1px solid #999; margin-right: 10px; vertical-align: middle;"></span>
        <strong>Top 6 (Verde):</strong> Clasifican a hexagonal final (Libertadores y Sudamericana).
      </li>
      <li style="margin-bottom: 8px;">
        <span style="display: inline-block; width: 20px; height: 20px; background-color: #fff3cd; border: 1px solid #999; margin-right: 10px; vertical-align: middle;"></span>
        <strong>Puestos 7-12 (Amarillo):</strong> Posibilidad de Copa Sudamericana.
      </li>
      <li>
        <span style="display: inline-block; width: 20px; height: 20px; background-color: #f8d7da; border: 1px solid #999; margin-right: 10px; vertical-align: middle;"></span>
        <strong>Puestos 13-16 (Rojo):</strong> Zona de descenso directo.
      </li>
    </ul>
    <p style="font-size: 12px; color: #666; margin-top: 10px; margin-bottom: 0;">
      * ............
    </p>
  </div>
</section>

<section class="section" id="mano-a-mano">
<h2>Historial Mano a Mano</h2>
<select id="selector-enfrentamiento">
<option value="LDU-Quito">LDU vs Quito</option>
<option value="LDU-Barcelona">LDU vs Barcelona</option>
<option value="LDU-Nacional">LDU vs Nacional</option>
<option value="Barcelona-Emelec">Barcelona vs Emelec</option>
<option value="Barcelona-Nacional">Barcelona vs Nacional</option>
<option value="LDU-IDV">LDU vs IDV</option>
<option value="Cuenca-LDU">Cuenca vs LDU</option>
<option value="Macar√°-T√©cnico">Macar√° vs T√©cnico</option>
<option value="LDU-Delf√≠n">LDU vs Delf√≠n</option>
<option value="LDU-Cat√≥lica">LDU vs Cat√≥lica</option>
<option value="LDU-Emelec">LDU vs Emelec</option>    
</select>
<canvas height="250" id="graficoEnfrentamiento" width="400"></canvas>
</section>

<section class="section" id="simulador">
  <h2>Simulador de Posiciones</h2>
  <div id="partidos-simulador">
    <h3>Simula los pr√≥ximos partidos:</h3>
    
    <!-- Partido aplazado -->
<div class="partido-simulado">
  <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
    <span>Mi√©rcoles 18:</span>
    <select class="equipo-local" style="padding: 5px;">
      <option value="Liga de Quito" selected>Liga de Quito</option>
    </select>
    <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
    <span>vs</span>
    <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
    <select class="equipo-visitante" style="padding: 5px;">
      <option value="Barcelona SC" selected>Barcelona SC</option>
    </select>
  </div>
</div>

    <!-- Fecha 17 -->
    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>Viernes 20:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="Libertad" selected>Libertad</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="T. Universitario" selected>T. Universitario</option>
        </select>
      </div>
    </div>

    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>S√°bado 21:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="El Nacional" selected>El Nacional</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="U. Cat√≥lica" selected>U. Cat√≥lica</option>
        </select>
      </div>
    </div>

    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>S√°bado 21:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="Emelec" selected>Emelec</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="Delf√≠n" selected>Delf√≠n</option>
        </select>
      </div>
    </div>

    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>S√°bado 21:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="Macar√°" selected>Macar√°</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="Vinotinto FC" selected>Vinotinto FC</option>
        </select>
      </div>
    </div>

    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>Domingo 22:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="Liga de Quito" selected>Liga de Quito</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="I. del Valle" selected>I. del Valle</option>
        </select>
      </div>
    </div>

    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>Domingo 22:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="Aucas" selected>Aucas</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="D. Cuenca" selected>D. Cuenca</option>
        </select>
      </div>
    </div>

    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>Domingo 22:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="Mushuc Runa" selected>Mushuc Runa</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="Barcelona SC" selected>Barcelona SC</option>
        </select>
      </div>
    </div>

    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>Lunes 23:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="Manta" selected>Manta</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="Orense" selected>Orense</option>
        </select>
      </div>
    </div>
  </div>

  <button id="calcular-simulacion" style="margin-top: 15px; padding: 10px 20px; background: #1b1b1b; color: white; border: none; cursor: pointer;">
    Calcular Proyecci√≥n
  </button>
  <div id="tabla-simulada" style="margin-top: 20px;"></div>
</section>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
function showSection(id) {
  document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

// Datos iniciales de la tabla
let tablaBase = [
  ["I. del Valle",15,31,9,4,2,29,14,15],
  ["Barcelona SC",14,29,9,2,3,20,15,5],
  ["Aucas",15,25,7,4,4,22,16,6],
  ["Liga de Quito",14,23,6,5,3,22,14,8],
  ["D. Cuenca",15,23,7,2,6,14,13,1],
  ["Orense",15,23,7,2,6,18,20,-2],
  ["Vinotinto FC",15,22,6,4,5,24,19,5],
  ["U. Cat√≥lica",15,20,5,5,5,24,19,5],
  ["El Nacional",15,19,5,4,6,21,21,0],
  ["Libertad",15,19,5,4,6,19,20,-1],
  ["Delf√≠n",15,18,4,6,5,12,20,-8],
  ["Manta",15,16,3,7,5,21,27,-6],
  ["Emelec",15,16,4,4,7,9,18,-9],
  ["Macar√°",15,15,3,6,6,12,15,-3],
  ["Mushuc Runa",15,15,4,3,8,21,26,-5],
  ["T. Universitario",15,10,2,4,9,14,25,-11]
];

// Mapeo de escudos
const escudosEquipos = {
  "I. del Valle": "idv.png",
  "Barcelona SC": "barcelona.png",
  "Liga de Quito": "ldu.png",
  "Aucas": "aucas.png",
  "D. Cuenca": "cuenca.png",
  "Orense": "orense.png",
  "Vinotinto FC": "vinotinto.png",
  "U. Cat√≥lica": "catolica.png",
  "El Nacional": "nacional.png",
  "Libertad": "libertad.png",
  "Delf√≠n": "delfin.png",
  "Manta": "manta.png",
  "Emelec": "emelec.png",
  "Macar√°": "macara.png",
  "Mushuc Runa": "mushuc.png",
  "T. Universitario": "tecnico.png"
};

// Datos completos de todas las fechas
const todasLasFechas = [
  {
    id: 'fecha16',
    nombre: 'Fecha 16',
    status: 'pasada',
    partidos: [
      { fecha: 'S√°b 14/06', hora: '14:00', local: 'I. del Valle', escudoLocal: 'idv.png', gl: 1, gv: 1, visitante: 'Libertad', escudoVisitante: 'libertad.png', jugado: true },
      { fecha: 'S√°b 14/06', hora: '16:30', local: 'Barcelona SC', escudoLocal: 'barcelona.png', gl: 1, gv: 2, visitante: 'Manta', escudoVisitante: 'manta.png', jugado: true },
      { fecha: 'S√°b 14/06', hora: '19:00', local: 'Vinotinto FC', escudoLocal: 'vinotinto.png', gl: 1, gv: 2, visitante: 'Liga de Quito', escudoVisitante: 'ldu.png', jugado: true },
      { fecha: 'Dom 15/06', hora: '13:00', local: 'T. Universitario', escudoLocal: 'tecnico.png', gl: 1, gv: 1, visitante: 'Aucas', escudoVisitante: 'aucas.png', jugado: true },
      { fecha: 'Dom 15/06', hora: '15:30', local: 'D. Cuenca', escudoLocal: 'cuenca.png', gl: 4, gv: 1, visitante: 'El Nacional', escudoVisitante: 'nacional.png', jugado: true },
      { fecha: 'Dom 15/06', hora: '18:00', local: 'Delf√≠n', escudoLocal: 'delfin.png', gl: 3, gv: 1, visitante: 'Mushuc Runa', escudoVisitante: 'mushuc.png', jugado: true },
      { fecha: 'Lun 16/06', hora: '19:00', local: 'Orense', escudoLocal: 'orense.png', gl: 1, gv: 0, visitante: 'Macar√°', escudoVisitante: 'macara.png', jugado: true }
    ]
  },
  {
    id: 'fecha7-aplazada',
    nombre: 'Fecha 7 (Aplazada)',
    status: 'pasada',
    partidos: [
      { fecha: 'Mi√© 18/06', hora: '19:00', local: 'Liga de Quito', escudoLocal: 'ldu.png', gl: 3, gv: 1, visitante: 'Barcelona SC', escudoVisitante: 'barcelona.png', jugado: true }
    ]
  },
  {
    id: 'fecha17',
    nombre: 'Fecha 17',
    status: 'pasada',
    partidos: [
      { fecha: 'Vie 20/06', hora: '19:00', local: 'Libertad', escudoLocal: 'libertad.png', gl: 4, gv: 1, visitante: 'T. Universitario', escudoVisitante: 'tecnico.png', jugado: true },
      { fecha: 'S√°b 21/06', hora: '14:00', local: 'El Nacional', escudoLocal: 'nacional.png', gl: 0, gv: 3, visitante: 'U. Cat√≥lica', escudoVisitante: 'catolica.png', jugado: true },
      { fecha: 'S√°b 21/06', hora: '16:30', local: 'Emelec', escudoLocal: 'emelec.png', gl: 2, gv: 2, visitante: 'Delf√≠n', escudoVisitante: 'delfin.png', jugado: true },
      { fecha: 'S√°b 21/06', hora: '19:00', local: 'Macar√°', escudoLocal: 'macara.png', gl: 1, gv: 0, visitante: 'Vinotinto FC', escudoVisitante: 'vinotinto.png', jugado: true },
      { fecha: 'Dom 22/06', hora: '12:00', local: 'Liga de Quito', escudoLocal: 'ldu.png', gl: 1, gv: 1, visitante: 'I. del Valle', escudoVisitante: 'idv.png', jugado: true },
      { fecha: 'Dom 22/06', hora: '15:00', local: 'Aucas', escudoLocal: 'aucas.png', gl: 1, gv: 3, visitante: 'D. Cuenca', escudoVisitante: 'cuenca.png', jugado: true },
      { fecha: 'Dom 22/06', hora: '18:00', local: 'Mushuc Runa', escudoLocal: 'mushuc.png', gl: 0, gv: 5, visitante: 'Barcelona SC', escudoVisitante: 'barcelona.png', jugado: true },
      { fecha: 'Lun 23/06', hora: '19:00', local: 'Manta', escudoLocal: 'manta.png', gl: 0, gv: 0, visitante: 'Orense', escudoVisitante: 'orense.png', jugado: true }
    ]
  },
  {
    id: 'fecha16-aplazada',
    nombre: 'Fecha 16 (Aplazada)',
    status: 'actual',
    partidos: [
      { fecha: 'Mi√© 25/06', hora: '19:00', local: 'U. Cat√≥lica', escudoLocal: 'catolica.png', gl: 3, gv: 1, visitante: 'Emelec', escudoVisitante: 'emelec.png', jugado: false }
    ]
  },  
  {
    id: 'fecha18',
    nombre: 'Fecha 18',
    status: 'actual',
    partidos: [
      { fecha: 'Vie 27/06', hora: '19:00', local: 'D. Cuenca', escudoLocal: 'cuenca.png', gl: null, gv: null, visitante: 'Mushuc Runa', escudoVisitante: 'mushuc.png', jugado: false },
      { fecha: 'S√°b 28/06', hora: '14:00', local: 'Delf√≠n', escudoLocal: 'delfin.png', gl: null, gv: null, visitante: 'Manta', escudoVisitante: 'manta.png', jugado: false },
      { fecha: 'S√°b 28/06', hora: '16:30', local: 'Barcelona SC', escudoLocal: 'barcelona.png', gl: null, gv: null, visitante: 'Libertad', escudoVisitante: 'libertad.png', jugado: false },
      { fecha: 'S√°b 28/06', hora: '19:00', local: 'Orense', escudoLocal: 'orense.png', gl: null, gv: null, visitante: 'Liga de Quito', escudoVisitante: 'ldu.png', jugado: false },
      { fecha: 'Dom 29/06', hora: '13:00', local: 'T. Universitario', escudoLocal: 'tecnico.png', gl: null, gv: null, visitante: 'El Nacional', escudoVisitante: 'nacional.png', jugado: false },
      { fecha: 'Dom 29/06', hora: '15:30', local: 'U. Cat√≥lica', escudoLocal: 'catolica.png', gl: null, gv: null, visitante: 'I. del Valle', escudoVisitante: 'idv.png', jugado: false },
      { fecha: 'Dom 29/06', hora: '19:00', local: 'Macar√°', escudoLocal: 'macara.png', gl: null, gv: null, visitante: 'Emelec', escudoVisitante: 'emelec.png', jugado: false },
      { fecha: 'Lun 30/06', hora: '19:00', local: 'Vinotinto FC', escudoLocal: 'vinotinto.png', gl: null, gv: null, visitante: 'Aucas', escudoVisitante: 'aucas.png', jugado: false }
    ]
  },
  {
    id: 'fecha19',
    nombre: 'Fecha 19',
    status: 'futura',
    partidos: [
      { fecha: 'Vie 04/07', hora: '19:00', local: 'Libertad', escudoLocal: 'libertad.png', gl: null, gv: null, visitante: 'D. Cuenca', escudoVisitante: 'cuenca.png', jugado: false },
      { fecha: 'S√°b 05/07', hora: '14:00', local: 'Mushuc Runa', escudoLocal: 'mushuc.png', gl: null, gv: null, visitante: 'U. Cat√≥lica', escudoVisitante: 'catolica.png', jugado: false },
      { fecha: 'S√°b 05/07', hora: '16:30', local: 'Emelec', escudoLocal: 'emelec.png', gl: null, gv: null, visitante: 'Vinotinto FC', escudoVisitante: 'vinotinto.png', jugado: false },
      { fecha: 'S√°b 05/07', hora: '19:00', local: 'I. del Valle', escudoLocal: 'idv.png', gl: null, gv: null, visitante: 'Barcelona SC', escudoVisitante: 'barcelona.png', jugado: false },
      { fecha: 'Dom 06/07', hora: '13:00', local: 'Aucas', escudoLocal: 'aucas.png', gl: null, gv: null, visitante: 'Macar√°', escudoVisitante: 'macara.png', jugado: false },
      { fecha: 'Dom 06/07', hora: '15:30', local: 'El Nacional', escudoLocal: 'nacional.png', gl: null, gv: null, visitante: 'Manta', escudoVisitante: 'manta.png', jugado: false },
      { fecha: 'Dom 06/07', hora: '18:00', local: 'Delf√≠n', escudoLocal: 'delfin.png', gl: null, gv: null, visitante: 'Liga de Quito', escudoVisitante: 'ldu.png', jugado: false },
      { fecha: 'Lun 07/07', hora: '19:00', local: 'T. Universitario', escudoLocal: 'tecnico.png', gl: null, gv: null, visitante: 'Orense', escudoVisitante: 'orense.png', jugado: false }
    ]
  },  
  // Agregar m√°s fechas hasta la 30...
  {
    id: 'fecha30',
    nombre: 'Fecha 30',
    status: 'futura',
    partidos: [
      { fecha: 'Dom 10/08', hora: '12:00', local: 'Barcelona SC', escudoLocal: 'barcelona.png', gl: null, gv: null, visitante: 'Aucas', escudoVisitante: 'aucas.png', jugado: false },
      { fecha: 'Dom 10/08', hora: '15:00', local: 'T. Universitario', escudoLocal: 'tecnico.png', gl: null, gv: null, visitante: 'Liga de Quito', escudoVisitante: 'ldu.png', jugado: false },
      { fecha: 'Dom 10/08', hora: '18:00', local: 'I. del Valle', escudoLocal: 'idv.png', gl: null, gv: null, visitante: 'Delf√≠n', escudoVisitante: 'delfin.png', jugado: false },
      { fecha: 'Lun 11/08', hora: '19:00', local: 'Orense', escudoLocal: 'orense.png', gl: null, gv: null, visitante: 'Emelec', escudoVisitante: 'emelec.png', jugado: false },
      { fecha: 'Mar 12/08', hora: '19:00', local: 'U. Cat√≥lica', escudoLocal: 'catolica.png', gl: null, gv: null, visitante: 'D. Cuenca', escudoVisitante: 'cuenca.png', jugado: false },
      { fecha: 'Mi√© 13/08', hora: '19:00', local: 'El Nacional', escudoLocal: 'nacional.png', gl: null, gv: null, visitante: 'Mushuc Runa', escudoVisitante: 'mushuc.png', jugado: false },
      { fecha: 'Jue 14/08', hora: '19:00', local: 'Manta', escudoLocal: 'manta.png', gl: null, gv: null, visitante: 'Macar√°', escudoVisitante: 'macara.png', jugado: false },
      { fecha: 'Vie 15/08', hora: '19:00', local: 'Libertad', escudoLocal: 'libertad.png', gl: null, gv: null, visitante: 'Vinotinto FC', escudoVisitante: 'vinotinto.png', jugado: false }
    ]
  }
];

// Funci√≥n para abrir pesta√±as
function openTab(tabId) {
  // Oculta todos los contenidos de pesta√±as
  document.querySelectorAll('.tab-content').forEach(tab => {
    tab.classList.remove('active');
  });
  
  // Desactiva todos los botones
  document.querySelectorAll('.tab-button').forEach(button => {
    button.classList.remove('active');
  });
  
  // Activa la pesta√±a seleccionada
  document.getElementById(tabId).classList.add('active');
  event.currentTarget.classList.add('active');
  
  // Si es una pesta√±a de hexagonal, cargar datos
  if (tabId.includes('hexagonal') || tabId === 'cuadrangular') {
    cargarFaseFinal(tabId);
  }
}

// Funci√≥n para renderizar fechas por estado
function renderizarFechas() {
  const pasadasContainer = document.getElementById('pasadas-container');
  const actualContainer = document.getElementById('actual-container');
  const futurasContainer = document.getElementById('futuras-container');
  
  pasadasContainer.innerHTML = '';
  actualContainer.innerHTML = '';
  futurasContainer.innerHTML = '';
  
  todasLasFechas.forEach(fecha => {
    const container = fecha.status === 'pasada' ? pasadasContainer :
                     fecha.status === 'actual' ? actualContainer :
                     futurasContainer;
    
    const fechaDiv = document.createElement('div');
    fechaDiv.className = 'fecha-container';
    
    const statusClass = `status-${fecha.status}`;
    const statusText = fecha.status === 'pasada' ? 'Jugada' : 
                      fecha.status === 'actual' ? 'En Juego' : 'Pr√≥xima';
    
    fechaDiv.innerHTML = `
      <div class="fecha-header">
        ${fecha.nombre} <span class="fecha-status ${statusClass}">${statusText}</span>
      </div>
      <div class="fecha-body" id="${fecha.id}-partidos"></div>
    `;
    
    container.appendChild(fechaDiv);
    
    // Renderizar partidos
    const partidosContainer = document.getElementById(`${fecha.id}-partidos`);
    let currentDate = '';
    
    fecha.partidos.forEach(partido => {
      if (partido.fecha !== currentDate) {
        const fechaHeader = document.createElement('div');
        fechaHeader.className = 'match-date';
        fechaHeader.textContent = partido.fecha;
        partidosContainer.appendChild(fechaHeader);
        currentDate = partido.fecha;
      }
      
      const partidoRow = document.createElement('div');
      partidoRow.className = `partido-row ${partido.jugado ? 'jugado' : ''}`;
      
      const resultado = partido.jugado ? 
        `${partido.gl} - ${partido.gv}` : 
        'vs';
      
      partidoRow.innerHTML = `
        <div class="partido-hora">${partido.hora}</div>
        <div class="partido-equipo local">
          <span class="nombre-equipo">${partido.local}</span>
          <img src="${partido.escudoLocal}" class="partido-escudo">
        </div>
        <div class="partido-resultado">${resultado}</div>
        <div class="partido-equipo visitante">
          <img src="${partido.escudoVisitante}" class="partido-escudo">
          <span class="nombre-equipo">${partido.visitante}</span>
        </div>
      `;
      
      partidosContainer.appendChild(partidoRow);
    });
  });
}

// Funci√≥n para cargar datos de las fases finales
function cargarFaseFinal(tabId) {
  let container, titulo, descripcion, equipos;
  
  switch(tabId) {
    case 'hexagonal-a':
      container = document.getElementById('hexagonal-a-container');
      titulo = "Hexagonal A - Clasificaci√≥n a Libertadores";
      descripcion = "Los 6 primeros equipos de la fase regular juegan esta fase para definir al campe√≥n y los cupos internacionales.";
      equipos = ["I. del Valle", "Barcelona SC", "Aucas", "Liga de Quito", "D. Cuenca", "Orense"];
      break;
    case 'hexagonal-b':
      container = document.getElementById('hexagonal-b-container');
      titulo = "Hexagonal B - Clasificaci√≥n a Sudamericana";
      descripcion = "Los equipos del 7¬∞ al 12¬∞ puesto juegan esta fase por un cupo a la Copa Sudamericana.";
      equipos = ["Vinotinto FC", "U. Cat√≥lica", "El Nacional", "Libertad", "Delf√≠n", "Manta"];
      break;
    case 'cuadrangular':
      container = document.getElementById('cuadrangular-container');
      titulo = "Cuadrangular de Descenso";
      descripcion = "Los 4 √∫ltimos equipos de la fase regular juegan esta fase donde los dos √∫ltimos descienden.";
      equipos = ["Emelec", "Macar√°", "Mushuc Runa", "T. Universitario"];
      break;
  }
  
  container.innerHTML = `
    <div class="fecha-container">
      <div class="fecha-header">${titulo}</div>
      <div class="fecha-body">
        <p>${descripcion}</p>
        <h4>Equipos clasificados:</h4>
        <ul style="columns: 2; list-style-type: none; padding: 0;">
          ${equipos.map(eq => `<li style="margin-bottom: 8px;">
            <img src="${escudosEquipos[eq]}" style="height: 20px; vertical-align: middle; margin-right: 10px;">
            ${eq}
          </li>`).join('')}
        </ul>
        <p style="margin-top: 15px; font-style: italic;">Esta fase comenzar√° despu√©s de completar las 30 fechas de la fase regular.</p>
      </div>
    </div>
  `;
}

// Funci√≥n para actualizar la tabla
function actualizarTabla() {
  // Reiniciamos los datos a los valores iniciales
  tablaBase = [
    ["I. del Valle",15,31,9,4,2,29,14,15],
    ["Barcelona SC",14,29,9,2,3,20,15,5],
    ["Aucas",15,25,7,4,4,22,16,6],
    ["Liga de Quito",14,23,6,5,3,22,14,8],
    ["D. Cuenca",15,23,7,2,6,14,13,1],
    ["Orense",15,23,7,2,6,18,20,-2],
    ["Vinotinto FC",15,22,6,4,5,24,19,5],
    ["U. Cat√≥lica",15,20,5,5,5,24,19,5],
    ["El Nacional",15,19,5,4,6,21,21,0],
    ["Libertad",15,19,5,4,6,19,20,-1],
    ["Delf√≠n",15,18,4,6,5,12,20,-8],
    ["Manta",15,16,3,7,5,21,27,-6],
    ["Emelec",15,16,4,4,7,9,18,-9],
    ["Macar√°",15,15,3,6,6,12,15,-3],
    ["Mushuc Runa",15,15,4,3,8,21,26,-5],
    ["T. Universitario",15,10,2,4,9,14,25,-11]
  ];

  // Procesamos todos los partidos de fechas pasadas y actuales
  todasLasFechas.forEach(fecha => {
    // Solo procesamos fechas pasadas y actuales (no futuras)
    if (fecha.status === 'pasada' || fecha.status === 'actual') {
      fecha.partidos.forEach(partido => {
        // Solo procesamos partidos jugados con resultados v√°lidos
        if (partido.jugado && partido.gl !== null && partido.gv !== null) {
          const eL = tablaBase.find(e => e[0] === partido.local);
          const eV = tablaBase.find(e => e[0] === partido.visitante);
          
          if (eL && eV) {
            // Actualizamos partidos jugados
            eL[1]++; 
            eV[1]++;
            
            // Actualizamos goles a favor y en contra
            eL[6] += partido.gl; 
            eL[7] += partido.gv;
            eV[6] += partido.gv; 
            eV[7] += partido.gl;
            
            // Actualizamos puntos seg√∫n el resultado
            if (partido.gl > partido.gv) { 
              // Victoria local
              eL[3]++; 
              eL[2] += 3; 
              eV[5]++; 
            } else if (partido.gv > partido.gl) { 
              // Victoria visitante
              eV[3]++; 
              eV[2] += 3; 
              eL[5]++; 
            } else { 
              // Empate
              eL[4]++; 
              eV[4]++; 
              eL[2]++; 
              eV[2]++; 
            }
            
            // Actualizamos diferencia de goles
            eL[8] = eL[6] - eL[7];
            eV[8] = eV[6] - eV[7];
          }
        }
      });
    }
  });

  // Ordenamos la tabla por puntos y diferencia de goles
  tablaBase.sort((a, b) => b[2] - a[2] || b[8] - a[8]);

  // Actualizamos la tabla en el HTML
  const cuerpo = document.getElementById("tabla-posiciones");
  cuerpo.innerHTML = "";
  
  tablaBase.forEach((e, i) => {
    const claseEscudo = 
      e[0] === "Liga de Quito" ? "ldu" :
      e[0] === "Macar√°" ? "macara" :
      e[0] === "T. Universitario" ? "tecnico" : "";

    const fila = document.createElement("tr");
    fila.innerHTML = `
      <td>${i + 1}</td>
      <td class="celda-equipo">
        <img src="${escudosEquipos[e[0]]}" class="escudo-equipo ${claseEscudo}">
        <span class="nombre-equipo">${e[0]}</span>
      </td>
      <td>${e[1]}</td>
      <td>${e[2]}</td>
      <td>${e[3]}</td>
      <td>${e[4]}</td>
      <td>${e[5]}</td>
      <td>${e[6]}</td>
      <td>${e[7]}</td>
      <td>${e[8]}</td>
    `;
    
    // Aplicamos clases de color seg√∫n la posici√≥n
    if (i < 6) fila.classList.add("top-pos");
    else if (i < 12) fila.classList.add("mid-pos");
    else fila.classList.add("low-pos");
    
    cuerpo.appendChild(fila);
  });
}

// Configuraci√≥n del gr√°fico
const partidosData = {
  "LDU-Quito": [66, 53, 47, "LDU", "Empate", "Quito"],
  "LDU-Barcelona": [84, 60, 90, "LDU", "Empate", "Barcelona"],
  "LDU-Nacional": [81, 78, 80, "LDU", "Empate", "Nacional"],
  "Barcelona-Emelec": [73, 83, 75, "Emelec", "Empate", "Barcelona"],
  "Barcelona-Nacional": [99, 67, 100, "Barcelona", "Empate", "Nacional"],
  "LDU-IDV": [25, 16, 10, "LDU", "Empate", "IDV"],
  "Cuenca-LDU": [50, 57, 69, "Cuenca", "Empate", "LDU"],
  "Macar√°-T√©cnico": [18, 15, 12, "Macar√°", "Empate", "T√©cnico"],
  "LDU-Delf√≠n": [29, 16, 16, "LDU", "Empate", "Delf√≠n"],
  "LDU-Cat√≥lica": [51, 29, 31, "LDU", "Empate", "Cat√≥lica"],
  "LDU-Emelec": [88, 46, 103, "LDU", "Empate", "Emelec"]  
};

const coloresEquipos = {
  "LDU": "#FFFFFF", "Quito": "#DD0000", "Barcelona": "#FFFF00", "Nacional": "#FF0000",
  "Emelec": "#0000FF", "IDV": "#FF69B4", "Cuenca": "#FF0000", "Macar√°": "#00BFFF",
  "T√©cnico": "#FF6347", "Delf√≠n": "#00CED1", "Cat√≥lica": "#191970", "Empate": "#808080"
};

const ctx = document.getElementById('graficoEnfrentamiento').getContext('2d');
let chart;

function actualizarGrafico(equipo) {
  const datos = partidosData[equipo];
  if (!datos) return;
  
  const data = {
    labels: [datos[3], datos[4], datos[5]],
    datasets: [{
      label: "Partidos",
      data: [datos[0], datos[1], datos[2]],
      backgroundColor: [
        coloresEquipos[datos[3]],
        coloresEquipos[datos[4]],
        coloresEquipos[datos[5]]
      ]
    }]
  };

  if (chart) chart.destroy();
  
  chart = new Chart(ctx, {
    type: 'bar',
    data: data,
    options: {
      responsive: true,
      animation: {
        duration: 1000,
        easing: 'easeOutBounce'
      },
      plugins: {
        legend: { display: false }
      }
    }
  });
}

// Funci√≥n para calcular la simulaci√≥n
function calcularSimulacion() {
  const tablaSimulada = JSON.parse(JSON.stringify(tablaBase)); // Copia profunda
  const partidosSimulados = document.querySelectorAll('.partido-simulado');

  partidosSimulados.forEach(partido => {
    const local = partido.querySelector('.equipo-local').value;
    const visitante = partido.querySelector('.equipo-visitante').value;
    const golesLocal = parseInt(partido.querySelector('.goles-local').value) || 0;
    const golesVisitante = parseInt(partido.querySelector('.goles-visitante').value) || 0;

    const equipoLocal = tablaSimulada.find(e => e[0] === local);
    const equipoVisitante = tablaSimulada.find(e => e[0] === visitante);

    if (equipoLocal && equipoVisitante) {
      equipoLocal[1]++; 
      equipoVisitante[1]++;
      equipoLocal[6] += golesLocal; 
      equipoLocal[7] += golesVisitante;
      equipoVisitante[6] += golesVisitante; 
      equipoVisitante[7] += golesLocal;

      if (golesLocal > golesVisitante) {
        equipoLocal[3]++; 
        equipoLocal[2] += 3;
        equipoVisitante[5]++;
      } else if (golesVisitante > golesLocal) {
        equipoVisitante[3]++; 
        equipoVisitante[2] += 3;
        equipoLocal[5]++;
      } else {
        equipoLocal[4]++; 
        equipoVisitante[4]++;
        equipoLocal[2]++; 
        equipoVisitante[2]++;
      }

      equipoLocal[8] = equipoLocal[6] - equipoLocal[7];
      equipoVisitante[8] = equipoVisitante[6] - equipoVisitante[7];
    }
  });

  // Ordenar y mostrar tabla simulada
  tablaSimulada.sort((a, b) => b[2] - a[2] || b[8] - a[8]);
  mostrarTablaSimulada(tablaSimulada);
}

function mostrarTablaSimulada(datos) {
  const contenedor = document.getElementById('tabla-simulada');
  contenedor.innerHTML = '<h3>Tabla Proyectada:</h3><table><thead><tr><th>Pos</th><th>Equipo</th><th>PTS</th><th>PG</th><th>PE</th><th>PP</th><th>GF</th><th>GC</th><th>DF</th></tr></thead><tbody></tbody></table>';

  const tbody = contenedor.querySelector('tbody');
  datos.forEach((equipo, index) => {
    const fila = document.createElement('tr');
    fila.innerHTML = `
      <td>${index + 1}</td>
      <td>${equipo[0]}</td>
      <td>${equipo[2]}</td>
      <td>${equipo[3]}</td>
      <td>${equipo[4]}</td>
      <td>${equipo[5]}</td>
      <td>${equipo[6]}</td>
      <td>${equipo[7]}</td>
      <td>${equipo[8]}</td>
    `;
    tbody.appendChild(fila);
  });
}

// Datos de jugadores (con tus estad√≠sticas)
const estadisticasJugadores = {
  goleadores: [
    { nombre: "R. Monti", equipo: "Vinotinto FC", goles: 11, pj: 17, minutos: 1150 },
    { nombre: "D. Valencia", equipo: "Manta", goles: 10, pj: 16, minutos: 1364 },
    { nombre: "M. Parrales", equipo: "Barcelona SC", goles: 9, pj: 15, minutos: 1102 },
    { nombre: "B. Palacios", equipo: "U. Cat√≥lica", goles: 8, pj: 16, minutos: 924 },
    { nombre: "M. Hoyos", equipo: "I. del Valle", goles: 7, pj: 14, minutos: 736 }
  ],
  asistencias: [
    { nombre: "P. Mercado", equipo: "I. del Valle", asistencias: 8, pj: 17, minutos: 1091 },
    { nombre: "J. Mina", equipo: "Aucas", asistencias: 7, pj: 17, minutos: 1530 },
    { nombre: "C. Alem√°n", equipo: "Manta", asistencias: 6, pj: 17, minutos: 1299 },
    { nombre: "D. Pazmi√±o", equipo: "El Nacional", asistencias: 5, pj: 12, minutos: 843 },
    { nombre: "D. Luna", equipo: "D. Cuenca", asistencias: 5, pj: 15, minutos: 1110 }
  ]
};

// Funci√≥n para mostrar estad√≠sticas
function actualizarTopEstadisticas() {
  const escudos = {
    "Vinotinto FC": "vinotinto.png",
    "Manta": "manta.png",
    "Barcelona SC": "barcelona.png",
    "I. del Valle": "idv.png",
    "U. Cat√≥lica": "catolica.png",
    "Aucas": "aucas.png",
    "El Nacional": "nacional.png",
    "D. Cuenca": "cuenca.png"
  };

  // Top 5 Goleadores
  const topGoles = document.getElementById('top-goleadores');
  topGoles.innerHTML = estadisticasJugadores.goleadores
    .sort((a, b) => b.goles - a.goles)
    .slice(0, 5)
    .map((jugador, index) => `
      <tr ${index === 0 ? 'style="background-color: #fff8e1; font-weight: bold;"' : ''}>
        <td>${index + 1}</td>
        <td>${jugador.nombre}</td>
        <td style="text-align: center;">
          <img src="${escudos[jugador.equipo]}" style="height: 20px; vertical-align: middle;" alt="${jugador.equipo}">
        </td>
        <td>${jugador.pj}</td>
        <td>${jugador.minutos}</td>
        <td>${jugador.goles}</td>
        <td>${(jugador.goles / jugador.pj).toFixed(2)}</td>
      </tr>
    `).join('');

  // Top 5 Asistencias
  const topAsistencias = document.getElementById('top-asistencias');
  topAsistencias.innerHTML = estadisticasJugadores.asistencias
    .sort((a, b) => b.asistencias - a.asistencias)
    .slice(0, 5)
    .map((jugador, index) => `
      <tr ${index === 0 ? 'style="background-color: #e8f5e9; font-weight: bold;"' : ''}>
        <td>${index + 1}</td>
        <td>${jugador.nombre}</td>
        <td style="text-align: center;">
          <img src="${escudos[jugador.equipo]}" style="height: 20px; vertical-align: middle;" alt="${jugador.equipo}">
        </td>
        <td>${jugador.pj}</td>
        <td>${jugador.minutos}</td>
        <td>${jugador.asistencias}</td>
        <td>${(jugador.asistencias / jugador.pj).toFixed(2)}</td>
      </tr>
    `).join('');
}

// Event listeners
document.getElementById('selector-enfrentamiento')
  .addEventListener('change', e => actualizarGrafico(e.target.value));

document.getElementById('calcular-simulacion')
  .addEventListener('click', calcularSimulacion);

// Inicializaci√≥n
document.addEventListener("DOMContentLoaded", () => {
  actualizarTabla();
  actualizarTopEstadisticas();
  actualizarGrafico('LDU-Quito');
  renderizarFechas();
  openTab('actual'); // Mostrar pesta√±a de fechas actuales por defecto
  
  // Actualizar al modificar resultados
 // document.querySelectorAll('.match-table td:nth-child(3), .match-table td:nth-child(5)').forEach(td => {
   // td.addEventListener('input', actualizarTabla);
 // });
});
</script>
</body>
</html>
