<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>GambeTri</title>
<style>
    body { font-family: Arial, sans-serif; margin: 0; background-color: #f2f2f2; color: #333; }
    header { background-color: #1b1b1b; color: white; padding: 1rem; text-align: center; }
    nav { display: flex; justify-content: center; background-color: #333; }
    nav button { background: none; color: white; border: none; padding: 1rem; cursor: pointer; font-size: 1rem; }
    nav button:hover { background-color: #555; }
    .section { display: none; padding: 2rem; }
    .active { display: block; }
    select { padding: 0.5rem; margin-bottom: 1rem; }
    canvas { background-color: #eee; padding: 1rem; border-radius: 8px; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { border: 1px solid #ccc; padding: 0.5rem; text-align: center; }
    th { background-color: #333; color: white; }
    .match-table { width: 100%; margin-top: 1rem; border-collapse: collapse; }
    .match-table td { padding: 0.5rem; text-align: center; vertical-align: middle; }
    .match-date { font-weight: bold; margin-top: 1rem; }
    .inicio h2 { font-size: 2.5em; color: #1a1a1a; margin-bottom: 10px; }
    .inicio p { font-size: 1.2em; color: #444; max-width: 700px; margin: 0 auto 20px; text-align: center; }
    .inicio img { display: block; max-width: 90%; height: auto; margin: 20px auto; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); }
    .top-pos { background-color: #d4edda; }
    .mid-pos { background-color: #fff3cd; }
    .low-pos { background-color: #f8d7da; }
    .escudo-equipo { height: 25px; width: 25px; object-fit: contain; display: block; margin: 0 auto; }
    .nombre-equipo { display: block; margin-top: 5px; }
    .celda-equipo { min-width: 120px; padding: 8px 5px; }
    /* Ajustes específicos para escudos pequeños */
    .escudo-equipo.ldu { height: 45px !important; width: 45px !important; }
    .escudo-equipo.macara { height: 45px !important; width: 45px !important; }
    .escudo-equipo.tecnico { height: 45px !important; width: 45px !important; }
    /* Estilos para el simulador */
    #partidos-simulador {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
    }
    .partido-simulado {
      background: white;
      padding: 10px;
      border-radius: 5px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      margin-bottom: 10px;
    }
    #tabla-simulada table {
      width: 100%;
      background: white;
      margin-top: 15px;
    }
    
    /* Nuevos estilos para fechas compactas */
    .fecha-container {
      margin-bottom: 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
      overflow: hidden;
    }
    .fecha-header {
      background-color: #333;
      color: white;
      padding: 10px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .fecha-header:hover {
      background-color: #444;
    }
    .fecha-content {
      display: none;
      padding: 10px;
      background-color: white;
    }
    .fecha-content.active {
      display: block;
    }
    .partidos-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 10px;
    }
    .partido-item {
      display: flex;
      align-items: center;
      padding: 8px;
      border: 1px solid #eee;
      border-radius: 5px;
    }
    .partido-item:hover {
      background-color: #f9f9f9;
    }
    .partido-equipo {
      display: flex;
      flex-direction: column;
      align-items: center;
      flex: 1;
    }
    .partido-resultado {
      display: flex;
      align-items: center;
      margin: 0 10px;
    }
    .partido-resultado input {
      width: 30px;
      text-align: center;
      margin: 0 5px;
    }
    .partido-hora {
      margin-right: 10px;
      min-width: 50px;
    }
    .hexagonal-section {
      margin-top: 30px;
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
    }
    .hexagonal-title {
      color: #d32f2f;
      border-bottom: 2px solid #d32f2f;
      padding-bottom: 5px;
    }
    .tabs {
      display: flex;
      margin-bottom: 15px;
    }
    .tab {
      padding: 10px 15px;
      cursor: pointer;
      background: #ddd;
      margin-right: 5px;
      border-radius: 5px 5px 0 0;
    }
    .tab.active {
      background: #333;
      color: white;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
</style>
</head>
<body>
<header>
<h1>GambeTri</h1>
<p>El portal de estadísticas del fútbol ecuatoriano</p>
</header>
<nav>
<button onclick="showSection('inicio')">Inicio</button>
<button onclick="showSection('mano-a-mano')">Historial Mano a Mano</button>
<button onclick="showSection('posiciones')">Tabla de Posiciones</button>
<button onclick="showSection('partidos')">Próximos Partidos</button>
<button onclick="showSection('simulador')">Simulador</button>
</nav>
<section class="section active inicio" id="inicio">
<h2>Bienvenido a GambeTri</h2>
<p>Explora las estadísticas, historia y actualidad del fútbol ecuatoriano...</p>
<img alt="Imagen de inicio" src="logo-ultimo.png"/>
</section>

<section class="section" id="partidos">
  <!-- Fecha 7 Aplazada -->
  <div class="fecha-container">
    <div class="fecha-header" onclick="toggleFecha(this)">
      <span>Fecha 7 Aplazada - Miércoles 18 de junio</span>
      <span>▼</span>
    </div>
    <div class="fecha-content">
      <div class="partidos-grid">
        <div class="partido-item">
          <span class="partido-hora">19:00</span>
          <div class="partido-equipo">
            <img src="ldu.png" class="escudo-equipo ldu">
            <span class="nombre-equipo">Liga de Quito</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="barcelona.png" class="escudo-equipo">
            <span class="nombre-equipo">Barcelona SC</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Fecha 16 -->
  <div class="fecha-container">
    <div class="fecha-header" onclick="toggleFecha(this)">
      <span>Fecha 16 - Junio 2025</span>
      <span>▼</span>
    </div>
    <div class="fecha-content">
      <div class="match-date">Sábado 14 de junio</div>
      <div class="partidos-grid">
        <div class="partido-item">
          <span class="partido-hora">14:00</span>
          <div class="partido-equipo">
            <img src="idv.png" class="escudo-equipo">
            <span class="nombre-equipo">I. del Valle</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="1" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="1" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="libertad.png" class="escudo-equipo">
            <span class="nombre-equipo">Libertad</span>
          </div>
        </div>
        
        <div class="partido-item">
          <span class="partido-hora">16:30</span>
          <div class="partido-equipo">
            <img src="barcelona.png" class="escudo-equipo">
            <span class="nombre-equipo">Barcelona SC</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="1" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="2" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="manta.png" class="escudo-equipo">
            <span class="nombre-equipo">Manta</span>
          </div>
        </div>
        
        <div class="partido-item">
          <span class="partido-hora">19:00</span>
          <div class="partido-equipo">
            <img src="vinotinto.png" class="escudo-equipo">
            <span class="nombre-equipo">Vinotinto FC</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="1" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="2" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="ldu.png" class="escudo-equipo ldu">
            <span class="nombre-equipo">Liga de Quito</span>
          </div>
        </div>
      </div>
      
      <div class="match-date">Domingo 15 de junio</div>
      <div class="partidos-grid">
        <div class="partido-item">
          <span class="partido-hora">13:00</span>
          <div class="partido-equipo">
            <img src="tecnico.png" class="escudo-equipo tecnico">
            <span class="nombre-equipo">T. Universitario</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="1" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="1" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="aucas.png" class="escudo-equipo">
            <span class="nombre-equipo">Aucas</span>
          </div>
        </div>
        
        <div class="partido-item">
          <span class="partido-hora">15:30</span>
          <div class="partido-equipo">
            <img src="cuenca.png" class="escudo-equipo">
            <span class="nombre-equipo">D. Cuenca</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="4" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="1" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="nacional.png" class="escudo-equipo">
            <span class="nombre-equipo">El Nacional</span>
          </div>
        </div>
        
        <div class="partido-item">
          <span class="partido-hora">18:00</span>
          <div class="partido-equipo">
            <img src="delfin.png" class="escudo-equipo">
            <span class="nombre-equipo">Delfín</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="3" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="1" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="mushuc.png" class="escudo-equipo">
            <span class="nombre-equipo">Mushuc Runa</span>
          </div>
        </div>
      </div>
      
      <div class="match-date">Lunes 16 de junio</div>
      <div class="partidos-grid">
        <div class="partido-item">
          <span class="partido-hora">19:00</span>
          <div class="partido-equipo">
            <img src="orense.png" class="escudo-equipo">
            <span class="nombre-equipo">Orense</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="1" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="macara.png" class="escudo-equipo macara">
            <span class="nombre-equipo">Macará</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Fecha 17 -->
  <div class="fecha-container">
    <div class="fecha-header" onclick="toggleFecha(this)">
      <span>Fecha 17 - Junio 2025</span>
      <span>▼</span>
    </div>
    <div class="fecha-content">
      <div class="match-date">Viernes 20 de junio</div>
      <div class="partidos-grid">
        <div class="partido-item">
          <span class="partido-hora">19:00</span>
          <div class="partido-equipo">
            <img src="libertad.png" class="escudo-equipo">
            <span class="nombre-equipo">Libertad</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="tecnico.png" class="escudo-equipo tecnico">
            <span class="nombre-equipo">T. Universitario</span>
          </div>
        </div>
      </div>
      
      <div class="match-date">Sábado 21 de junio</div>
      <div class="partidos-grid">
        <div class="partido-item">
          <span class="partido-hora">14:00</span>
          <div class="partido-equipo">
            <img src="nacional.png" class="escudo-equipo">
            <span class="nombre-equipo">El Nacional</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="catolica.png" class="escudo-equipo">
            <span class="nombre-equipo">U. Católica</span>
          </div>
        </div>
        
        <div class="partido-item">
          <span class="partido-hora">16:30</span>
          <div class="partido-equipo">
            <img src="emelec.png" class="escudo-equipo">
            <span class="nombre-equipo">Emelec</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="delfin.png" class="escudo-equipo">
            <span class="nombre-equipo">Delfín</span>
          </div>
        </div>
        
        <div class="partido-item">
          <span class="partido-hora">19:00</span>
          <div class="partido-equipo">
            <img src="macara.png" class="escudo-equipo macara">
            <span class="nombre-equipo">Macará</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="vinotinto.png" class="escudo-equipo">
            <span class="nombre-equipo">Vinotinto FC</span>
          </div>
        </div>
      </div>
      
      <div class="match-date">Domingo 22 de junio</div>
      <div class="partidos-grid">
        <div class="partido-item">
          <span class="partido-hora">12:00</span>
          <div class="partido-equipo">
            <img src="ldu.png" class="escudo-equipo ldu">
            <span class="nombre-equipo">Liga de Quito</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="idv.png" class="escudo-equipo">
            <span class="nombre-equipo">I. del Valle</span>
          </div>
        </div>
        
        <div class="partido-item">
          <span class="partido-hora">15:00</span>
          <div class="partido-equipo">
            <img src="aucas.png" class="escudo-equipo">
            <span class="nombre-equipo">Aucas</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="cuenca.png" class="escudo-equipo">
            <span class="nombre-equipo">D. Cuenca</span>
          </div>
        </div>
        
        <div class="partido-item">
          <span class="partido-hora">18:00</span>
          <div class="partido-equipo">
            <img src="mushuc.png" class="escudo-equipo">
            <span class="nombre-equipo">Mushuc Runa</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="barcelona.png" class="escudo-equipo">
            <span class="nombre-equipo">Barcelona SC</span>
          </div>
        </div>
      </div>
      
      <div class="match-date">Lunes 23 de junio</div>
      <div class="partidos-grid">
        <div class="partido-item">
          <span class="partido-hora">19:00</span>
          <div class="partido-equipo">
            <img src="manta.png" class="escudo-equipo">
            <span class="nombre-equipo">Manta</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="orense.png" class="escudo-equipo">
            <span class="nombre-equipo">Orense</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Fechas 18-30 (estructura similar) -->
  <!-- Solo mostraré un ejemplo, el resto sería similar -->
  <div class="fecha-container">
    <div class="fecha-header" onclick="toggleFecha(this)">
      <span>Fecha 18 - Junio 2025</span>
      <span>▼</span>
    </div>
    <div class="fecha-content">
      <div class="partidos-grid">
        <div class="partido-item">
          <span class="partido-hora">14:00</span>
          <div class="partido-equipo">
            <img src="barcelona.png" class="escudo-equipo">
            <span class="nombre-equipo">Barcelona SC</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="libertad.png" class="escudo-equipo">
            <span class="nombre-equipo">Libertad</span>
          </div>
        </div>
        
        <div class="partido-item">
          <span class="partido-hora">16:30</span>
          <div class="partido-equipo">
            <img src="orense.png" class="escudo-equipo">
            <span class="nombre-equipo">Orense</span>
          </div>
          <div class="partido-resultado">
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
            <span>-</span>
            <input type="number" min="0" value="0" onchange="actualizarTabla()">
          </div>
          <div class="partido-equipo">
            <img src="ldu.png" class="escudo-equipo ldu">
            <span class="nombre-equipo">Liga de Quito</span>
          </div>
        </div>
        
        <!-- Más partidos de la fecha 18 -->
      </div>
    </div>
  </div>

  <!-- Continuar con fechas 19-30 de manera similar -->
  <!-- ... -->

</section>

<section class="section" id="posiciones">
  <h2>Tabla de Posiciones</h2>
  
  <!-- Pestañas para diferentes fases -->
  <div class="tabs">
    <div class="tab active" onclick="changeTab('tabla-general')">Fase Regular</div>
    <div class="tab" onclick="changeTab('hexagonal-a')">Hexagonal A</div>
    <div class="tab" onclick="changeTab('hexagonal-b')">Hexagonal B</div>
    <div class="tab" onclick="changeTab('cuadrangular')">Cuadrangular</div>
  </div>
  
  <!-- Tabla general -->
  <div id="tabla-general" class="tab-content active">
    <div style="display: flex; flex-wrap: wrap; gap: 20px; align-items: flex-start;">
      <!-- Tabla de posiciones (izquierda) -->
      <div style="flex: 1; min-width: 300px;">
        <table style="width: 100%;">
          <thead>
            <tr><th>Pos</th><th>Equipo</th><th>PJ</th><th>PTS</th><th>PG</th><th>PE</th><th>PP</th><th>GF</th><th>GC</th><th>DF</th></tr>
          </thead>
          <tbody id="tabla-posiciones"></tbody>
        </table>
      </div>

      <!-- Estadísticas (derecha) -->
      <div style="flex: 1; min-width: 280px; background: #f8f9fa; border-radius: 8px; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
        <!-- Top 5 Goleadores -->
        <h3 style="margin-top: 0; color: #d32f2f; border-bottom: 2px solid #d32f2f; padding-bottom: 5px;">⚽ Top 5 Goleadores</h3>
        <table style="width: 100%; font-size: 14px;">
          <thead>
            <tr><th>#</th><th>Jugador</th><th>Equipo</th><th>PJ</th><th>Min</th><th>G</th><th>G/P</th></tr>
          </thead>
          <tbody id="top-goleadores"></tbody>
        </table>

        <!-- Top 5 Asistencias -->
        <h3 style="margin-top: 20px; color: #1976d2; border-bottom: 2px solid #1976d2; padding-bottom: 5px;">🎯 Top 5 Asistencias</h3>
        <table style="width: 100%; font-size: 14px;">
          <thead>
            <tr><th>#</th><th>Jugador</th><th>Equipo</th><th>PJ</th><th>Min</th><th>A</th><th>A/P</th></tr>
          </thead>
          <tbody id="top-asistencias"></tbody>
        </table>
      </div>
    </div>

    <!-- Leyenda de colores -->
    <div class="leyenda-posiciones" style="margin-top: 20px; background: #f8f9fa; padding: 15px; border-radius: 8px; border: 1px solid #ddd;">
      <h3 style="margin-top: 0;">¿Qué significan los colores?</h3>
      <ul style="list-style-type: none; padding: 0; margin-bottom: 0;">
        <li style="margin-bottom: 8px;">
          <span style="display: inline-block; width: 20px; height: 20px; background-color: #d4edda; border: 1px solid #999; margin-right: 10px; vertical-align: middle;"></span>
          <strong>Top 6 (Verde):</strong> Clasifican a hexagonal final (Libertadores y Sudamericana).
        </li>
        <li style="margin-bottom: 8px;">
          <span style="display: inline-block; width: 20px; height: 20px; background-color: #fff3cd; border: 1px solid #999; margin-right: 10px; vertical-align: middle;"></span>
          <strong>Puestos 7-12 (Amarillo):</strong> Posibilidad de Copa Sudamericana.
        </li>
        <li>
          <span style="display: inline-block; width: 20px; height: 20px; background-color: #f8d7da; border: 1px solid #999; margin-right: 10px; vertical-align: middle;"></span>
          <strong>Puestos 13-16 (Rojo):</strong> Zona de descenso directo.
        </li>
      </ul>
    </div>
  </div>
  
  <!-- Hexagonal A -->
  <div id="hexagonal-a" class="tab-content">
    <div class="hexagonal-section">
      <h3 class="hexagonal-title">Hexagonal A - Clasificación a Libertadores</h3>
      <table style="width: 100%;">
        <thead>
          <tr><th>Pos</th><th>Equipo</th><th>PJ</th><th>PTS</th><th>PG</th><th>PE</th><th>PP</th><th>GF</th><th>GC</th><th>DF</th></tr>
        </thead>
        <tbody id="hexagonal-a-body"></tbody>
      </table>
    </div>
  </div>
  
  <!-- Hexagonal B -->
  <div id="hexagonal-b" class="tab-content">
    <div class="hexagonal-section">
      <h3 class="hexagonal-title">Hexagonal B - Clasificación a Sudamericana</h3>
      <table style="width: 100%;">
        <thead>
          <tr><th>Pos</th><th>Equipo</th><th>PJ</th><th>PTS</th><th>PG</th><th>PE</th><th>PP</th><th>GF</th><th>GC</th><th>DF</th></tr>
        </thead>
        <tbody id="hexagonal-b-body"></tbody>
      </table>
    </div>
  </div>
  
  <!-- Cuadrangular Descenso -->
  <div id="cuadrangular" class="tab-content">
    <div class="hexagonal-section">
      <h3 class="hexagonal-title">Cuadrangular de Descenso</h3>
      <table style="width: 100%;">
        <thead>
          <tr><th>Pos</th><th>Equipo</th><th>PJ</th><th>PTS</th><th>PG</th><th>PE</th><th>PP</th><th>GF</th><th>GC</th><th>DF</th></tr>
        </thead>
        <tbody id="cuadrangular-body"></tbody>
      </table>
    </div>
  </div>
</section>

<!-- Resto de las secciones (mano-a-mano, simulador) se mantienen igual -->
<!-- ... -->

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
function showSection(id) {
  document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

// Función para alternar fechas
function toggleFecha(element) {
  const content = element.nextElementSibling;
  content.classList.toggle('active');
  const arrow = element.querySelector('span:last-child');
  arrow.textContent = content.classList.contains('active') ? '▲' : '▼';
}

// Función para cambiar pestañas
function changeTab(tabId) {
  // Ocultar todos los contenidos de pestañas
  document.querySelectorAll('.tab-content').forEach(tab => {
    tab.classList.remove('active');
  });
  
  // Desactivar todas las pestañas
  document.querySelectorAll('.tab').forEach(tab => {
    tab.classList.remove('active');
  });
  
  // Activar la pestaña seleccionada
  document.getElementById(tabId).classList.add('active');
  event.currentTarget.classList.add('active');
  
  // Si es una pestaña de hexagonal, actualizar esa tabla
  if (tabId === 'hexagonal-a') actualizarHexagonalA();
  else if (tabId === 'hexagonal-b') actualizarHexagonalB();
  else if (tabId === 'cuadrangular') actualizarCuadrangular();
}

// Datos iniciales de la tabla
let tablaBase = [
  ["I. del Valle",15,31,9,4,2,29,14,15],
  ["Barcelona SC",14,29,9,2,3,20,15,5],
  ["Aucas",15,25,7,4,4,22,16,6],
  ["Liga de Quito",14,23,6,5,3,22,14,8],
  ["D. Cuenca",15,23,7,2,6,14,13,1],
  ["Orense",15,23,7,2,6,18,20,-2],
  ["Vinotinto FC",15,22,6,4,5,24,19,5],
  ["U. Católica",15,20,5,5,5,24,19,5],
  ["El Nacional",15,19,5,4,6,21,21,0],
  ["Libertad",15,19,5,4,6,19,20,-1],
  ["Delfín",15,18,4,6,5,12,20,-8],
  ["Manta",15,16,3,7,5,21,27,-6],
  ["Emelec",15,16,4,4,7,9,18,-9],
  ["Macará",15,15,3,6,6,12,15,-3],
  ["Mushuc Runa",15,15,4,3,8,21,26,-5],
  ["T. Universitario",15,10,2,4,9,14,25,-11]
];

// Mapeo de escudos
const escudosEquipos = {
  "I. del Valle": "idv.png",
  "Barcelona SC": "barcelona.png",
  "Liga de Quito": "ldu.png",
  "Aucas": "aucas.png",
  "D. Cuenca": "cuenca.png",
  "Orense": "orense.png",
  "Vinotinto FC": "vinotinto.png",
  "U. Católica": "catolica.png",
  "El Nacional": "nacional.png",
  "Libertad": "libertad.png",
  "Delfín": "delfin.png",
  "Manta": "manta.png",
  "Emelec": "emelec.png",
  "Macará": "macara.png",
  "Mushuc Runa": "mushuc.png",
  "T. Universitario": "tecnico.png"
};

// Función para actualizar la tabla general
function actualizarTabla() {
  // Reiniciamos los datos
  tablaBase = [
    ["I. del Valle",15,31,9,4,2,29,14,15],
    ["Barcelona SC",14,29,9,2,3,20,15,5],
    ["Aucas",15,25,7,4,4,22,16,6],
    ["Liga de Quito",14,23,6,5,3,22,14,8],
    ["D. Cuenca",15,23,7,2,6,14,13,1],
    ["Orense",15,23,7,2,6,18,20,-2],
    ["Vinotinto FC",15,22,6,4,5,24,19,5],
    ["U. Católica",15,20,5,5,5,24,19,5],
    ["El Nacional",15,19,5,4,6,21,21,0],
    ["Libertad",15,19,5,4,6,19,20,-1],
    ["Delfín",15,18,4,6,5,12,20,-8],
    ["Manta",15,16,3,7,5,21,27,-6],
    ["Emelec",15,16,4,4,7,9,18,-9],
    ["Macará",15,15,3,6,6,12,15,-3],
    ["Mushuc Runa",15,15,4,3,8,21,26,-5],
    ["T. Universitario",15,10,2,4,9,14,25,-11]
  ];

  // Procesamos resultados de todos los partidos
  document.querySelectorAll(".partido-item").forEach(partido => {
    const local = partido.querySelector(".partido-equipo:first-child .nombre-equipo")?.textContent?.trim();
    const visitante = partido.querySelector(".partido-equipo:last-child .nombre-equipo")?.textContent?.trim();
    const gl = parseInt(partido.querySelector(".partido-resultado input:first-child")?.value) || 0;
    const gv = parseInt(partido.querySelector(".partido-resultado input:last-child")?.value) || 0;
    
    if (!local || !visitante) return;
    
    const eL = tablaBase.find(e => e[0] === local);
    const eV = tablaBase.find(e => e[0] === visitante);
    
    if (!eL || !eV) return;
    
    eL[1]++; eV[1]++;
    eL[6] += gl; eL[7] += gv;
    eV[6] += gv; eV[7] += gl;
    
    if (gl > gv) { eL[3]++; eL[2] += 3; eV[5]++; } 
    else if (gv > gl) { eV[3]++; eV[2] += 3; eL[5]++; } 
    else { eL[4]++; eV[4]++; eL[2]++; eV[2]++; }
    
    eL[8] = eL[6] - eL[7];
    eV[8] = eV[6] - eV[7];
  });

  // Ordenamos
  tablaBase.sort((a, b) => b[2] - a[2] || b[8] - a[8]);

  // Actualizamos HTML de la tabla general
  const cuerpo = document.getElementById("tabla-posiciones");
  cuerpo.innerHTML = "";
  
  tablaBase.forEach((e, i) => {
    const claseEscudo = 
      e[0] === "Liga de Quito" ? "ldu" :
      e[0] === "Macará" ? "macara" :
      e[0] === "T. Universitario" ? "tecnico" : "";

    const fila = document.createElement("tr");
    fila.innerHTML = `
      <td>${i + 1}</td>
      <td class="celda-equipo">
        <img src="${escudosEquipos[e[0]]}" class="escudo-equipo ${claseEscudo}">
        <span class="nombre-equipo">${e[0]}</span>
      </td>
      <td>${e[1]}</td>
      <td>${e[2]}</td>
      <td>${e[3]}</td>
      <td>${e[4]}</td>
      <td>${e[5]}</td>
      <td>${e[6]}</td>
      <td>${e[7]}</td>
      <td>${e[8]}</td>
    `;
    
    if (i < 6) fila.classList.add("top-pos");
    else if (i < 12) fila.classList.add("mid-pos");
    else fila.classList.add("low-pos");
    
    cuerpo.appendChild(fila);
  });
  
  // Actualizar también los hexagonales si están visibles
  if (document.getElementById('hexagonal-a').classList.contains('active')) actualizarHexagonalA();
  if (document.getElementById('hexagonal-b').classList.contains('active')) actualizarHexagonalB();
  if (document.getElementById('cuadrangular').classList.contains('active')) actualizarCuadrangular();
}

// Función para actualizar el Hexagonal A (primeros 6)
function actualizarHexagonalA() {
  const hexagonalA = tablaBase.slice(0, 6);
  const cuerpo = document.getElementById("hexagonal-a-body");
  cuerpo.innerHTML = "";
  
  hexagonalA.forEach((e, i) => {
    const claseEscudo = 
      e[0] === "Liga de Quito" ? "ldu" :
      e[0] === "Macará" ? "macara" :
      e[0] === "T. Universitario" ? "tecnico" : "";

    const fila = document.createElement("tr");
    fila.innerHTML = `
      <td>${i + 1}</td>
      <td class="celda-equipo">
        <img src="${escudosEquipos[e[0]]}" class="escudo-equipo ${claseEscudo}">
        <span class="nombre-equipo">${e[0]}</span>
      </td>
      <td>${e[1]}</td>
      <td>${e[2]}</td>
      <td>${e[3]}</td>
      <td>${e[4]}</td>
      <td>${e[5]}</td>
      <td>${e[6]}</td>
      <td>${e[7]}</td>
      <td>${e[8]}</td>
    `;
    fila.classList.add("top-pos");
    cuerpo.appendChild(fila);
  });
}

// Función para actualizar el Hexagonal B (puestos 7-12)
function actualizarHexagonalB() {
  const hexagonalB = tablaBase.slice(6, 12);
  const cuerpo = document.getElementById("hexagonal-b-body");
  cuerpo.innerHTML = "";
  
  hexagonalB.forEach((e, i) => {
    const claseEscudo = 
      e[0] === "Liga de Quito" ? "ldu" :
      e[0] === "Macará" ? "macara" :
      e[0] === "T. Universitario" ? "tecnico" : "";

    const fila = document.createElement("tr");
    fila.innerHTML = `
      <td>${i + 1}</td>
      <td class="celda-equipo">
        <img src="${escudosEquipos[e[0]]}" class="escudo-equipo ${claseEscudo}">
        <span class="nombre-equipo">${e[0]}</span>
      </td>
      <td>${e[1]}</td>
      <td>${e[2]}</td>
      <td>${e[3]}</td>
      <td>${e[4]}</td>
      <td>${e[5]}</td>
      <td>${e[6]}</td>
      <td>${e[7]}</td>
      <td>${e[8]}</td>
    `;
    fila.classList.add("mid-pos");
    cuerpo.appendChild(fila);
  });
}

// Función para actualizar el Cuadrangular (últimos 4)
function actualizarCuadrangular() {
  const cuadrangular = tablaBase.slice(12);
  const cuerpo = document.getElementById("cuadrangular-body");
  cuerpo.innerHTML = "";
  
  cuadrangular.forEach((e, i) => {
    const claseEscudo = 
      e[0] === "Liga de Quito" ? "ldu" :
      e[0] === "Macará" ? "macara" :
      e[0] === "T. Universitario" ? "tecnico" : "";

    const fila = document.createElement("tr");
    fila.innerHTML = `
      <td>${i + 1}</td>
      <td class="celda-equipo">
        <img src="${escudosEquipos[e[0]]}" class="escudo-equipo ${claseEscudo}">
        <span class="nombre-equipo">${e[0]}</span>
      </td>
      <td>${e[1]}</td>
      <td>${e[2]}</td>
      <td>${e[3]}</td>
      <td>${e[4]}</td>
      <td>${e[5]}</td>
      <td>${e[6]}</td>
      <td>${e[7]}</td>
      <td>${e[8]}</td>
    `;
    fila.classList.add("low-pos");
    cuerpo.appendChild(fila);
  });
}

// Resto del código (mano a mano, simulador, etc.) se mantiene igual
// ...

// Inicialización
document.addEventListener("DOMContentLoaded", () => {
  actualizarTabla();
  actualizarTopEstadisticas();
  actualizarGrafico('LDU-Quito');
  
  // Abrir la primera fecha por defecto
  document.querySelector('.fecha-header').click();
});
</script>
</body>
</html>
