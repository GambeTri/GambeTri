<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>GambeTri</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
   body { 
  font-family: 'Poppins', sans-serif; margin: 0; background-color: #e3f2fd; /* Celeste claro */
  color: #333; min-height: 100vh; }
header { 
  background: linear-gradient(135deg, #0a3d62 0%, #1e88e5 100%);
  color: white; 
  padding: 2rem 1.5rem; 
  text-align: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  position: relative;
  overflow: hidden;
}

header::after {
  content: "";
  position: absolute;
  bottom: -10px;
  left: 0;
  width: 100%;
  height: 20px;
  background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 1200 120" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none"><path d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z" fill="%23ffffff" opacity=".25"/></svg>');
  background-size: cover;
}

header h1 {
  font-size: 2.5rem;
  margin: 0;
  text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
}

header p {
  font-size: 1.2rem;
  opacity: 0.9;
  margin: 0.5rem 0 0;
}
   .header-logos {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
}

.header-logo {
  height: 50px; /* Ajusta según necesites */
  width: auto;
}

header h1 {
  margin: 0; /* Elimina márgenes para mejor alineación */
  font-size: 2.2rem;
}
    .section { display: none; padding: 2rem; }
    .active { display: block; }
    select { padding: 0.5rem; margin-bottom: 1rem; }
    canvas { background-color: #eee; padding: 1rem; border-radius: 8px; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { border: 1px solid #ccc; padding: 0.5rem; text-align: center; }
    th { background-color: #333; color: white; }
    .match-table { width: 100%; margin-top: 1rem; border-collapse: collapse; }
    .match-table td { padding: 0.5rem; text-align: center; vertical-align: middle; }
    .match-date { font-weight: bold; margin-top: 1rem; }
    .inicio h2 { font-size: 2.5em; color: #1a1a1a; margin-bottom: 10px; }
    .inicio p { font-size: 1.2em; color: #444; max-width: 700px; margin: 0 auto 20px; text-align: center; }
    .inicio img { display: block; max-width: 90%; height: auto; margin: 20px auto; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); }
    .top-pos { background-color: #d4edda; }
    .mid-pos { background-color: #fff3cd; }
    .low-pos { background-color: #f8d7da; }
    .escudo-equipo { height: 25px; width: 25px; object-fit: contain; display: block; margin: 0 auto; }
    .nombre-equipo { display: block; margin-top: 5px; }
    .celda-equipo { min-width: 120px; padding: 8px 5px; }
    /* Ajustes específicos para escudos pequeños */
    .escudo-equipo.ldu { height: 45px !important; width: 45px !important; }
    .escudo-equipo.macara { height: 45px !important; width: 45px !important; }
    .escudo-equipo.tecnico { height: 45px !important; width: 45px !important; }
    /* Estilos para el simulador */
    #partidos-simulador {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
    }
    .partido-simulado {
      background: white;
      padding: 10px;
      border-radius: 5px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      margin-bottom: 10px;
    }
    #tabla-simulada table {
      width: 100%;
      background: white;
      margin-top: 15px;
    }
    
    /* Nuevos estilos para el sistema de pestañas */
    .tabs-container {
        display: flex;
        flex-wrap: wrap;
        margin-bottom: 20px;
        border-bottom: 2px solid #1b1b1b;
    }
    .tab-button {
        padding: 10px 20px;
        background: #f2f2f2;
        border: none;
        cursor: pointer;
        font-size: 1rem;
        margin-right: 5px;
        border-radius: 5px 5px 0 0;
        transition: all 0.3s;
    }
    .tab-button:hover {
        background: #ddd;
    }
    .tab-button.active {
        background: #1b1b1b;
        color: white;
        font-weight: bold;
    }
    .tab-content {
        display: none;
        width: 100%;
        padding: 15px 0;
        animation: fadeIn 0.5s;
    }
    .tab-content.active {
        display: block;
    }
    .fecha-container {
        margin-bottom: 30px;
        background: white;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        overflow: hidden;
    }
    .fecha-header {
        background: #1b1b1b;
        color: white;
        padding: 10px 15px;
        font-weight: bold;
    }
    .fecha-body {
        padding: 15px;
    }
    .partido-row {
        display: flex;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #eee;
    }
    .partido-row.jugado {
        opacity: 0.8;
    }
    .partido-hora {
        width: 60px;
        font-weight: bold;
    }
    .partido-equipo {
        display: flex;
        align-items: center;
        width: 35%;
    }
    .partido-equipo.local {
        justify-content: flex-end;
    }
    .partido-equipo.visitante {
        justify-content: flex-start;
    }
    .partido-resultado {
        width: 60px;
        text-align: center;
        font-weight: bold;
    }
    .partido-escudo {
        width: 25px;
        height: 25px;
        margin: 0 10px;
    }
    .partido-vs {
        width: 30px;
        text-align: center;
        color: #666;
    }
    .fecha-status {
        display: inline-block;
        padding: 3px 8px;
        border-radius: 3px;
        font-size: 0.8rem;
        margin-left: 10px;
    }
    .status-pasada {
        background: #f8d7da;
        color: #721c24;
    }
    .status-actual {
        background: #d4edda;
        color: #155724;
    }
    .status-futura {
        background: #fff3cd;
        color: #856404;
    }
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

/* === CARRUSEL MEJORADO === */
.news-slider {
  position: relative;
  margin: 0 auto 40px;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  max-width: 1200px;
  height: auto; /* Cambiado de 500px a auto */
  aspect-ratio: 16/9; /* Mantiene relación de aspecto */
}

.slider-container {
  display: flex;
  transition: transform 0.5s ease;
  height: 100%; /* Asegura que ocupe toda la altura */
}

.slide {
  min-width: 100%;
  position: relative;
  height: 100%; /* Ocupa toda la altura del contenedor */
}

.slide img {
  width: 100%;
  height: 100%;
  object-fit: contain; /* Cambiado de cover a contain para ver imágenes completas */
  object-position: center;
}

.slide-content {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(10, 61, 98, 0.8); /* Azul oscuro semitransparente */
  color: white; /* Texto blanco */
  padding: 20px;
}

.slide-tag {
  background: #f6b93b;
  color: #000;
  display: inline-block;
  padding: 3px 10px;
  border-radius: 20px;
  font-size: 12px;
  margin-bottom: 10px;
}

.slide-title {
  font-size: 1.5rem;
  margin: 10px 0;
  color: white !important; /* Fuerza color blanco */
}

.slide-content p {
  color: white; /* Hace que el texto de descripción sea blanco */
  margin: 0;
  line-height: 1.4;
}

.slider-nav {
  display: flex;
  justify-content: space-between;
  position: absolute;
  top: 50%;
  width: 100%;
  transform: translateY(-50%);
  padding: 0 10px;
  box-sizing: border-box;
}

.slider-btn {
  background: rgba(255,255,255,0.5);
  border: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  font-size: 20px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.slider-dots {
  display: flex;
  justify-content: center;
  margin-top: 10px;
}

.dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #ccc;
  margin: 0 5px;
  cursor: pointer;
}

.dot.active {
  background: #0a3d62;
}

/* Estilos para la encuesta */
.poll-container {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
  background: white;
  border-radius: 10px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.poll-title {
  text-align: center;
  color: #0a3d62;
  margin-bottom: 20px;
  font-size: 1.8rem;
}

.poll-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 15px;
  margin-bottom: 20px;
}

.poll-option {
  display: flex;
  align-items: center;
  padding: 12px;
  border: 2px solid #ddd;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s;
  background: white;
}

.poll-option:hover {
  border-color: #0a3d62;
  background-color: #f0f8ff;
}

.poll-option.selected {
  border: 2px solid #0a3d62;
  background-color: #e3f2fd;
}

.poll-option img {
  width: 30px;
  height: 30px;
  object-fit: contain;
  margin-right: 12px;
}

.poll-option span {
  flex-grow: 1;
  text-align: left;
  font-weight: 500;
}

.poll-btn {
  display: block;
  margin: 20px auto;
  padding: 12px 30px;
  background: #0a3d62;
  color: white;
  border: none;
  border-radius: 5px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.3s;
}

.poll-btn:hover {
  background: #1e88e5;
}

.poll-btn:disabled {
  background: #ccc;
  cursor: not-allowed;
}

.poll-results {
  width: 100%;
  margin-top: 30px;
  padding-top: 20px;
  border-top: 1px solid #ddd;
}

.results-container {
  width: 100%;
}

.result-bar {
  display: flex;
  align-items: center;
  margin-bottom: 12px;
}

.result-team {
  width: 200px;
  font-weight: bold;
  display: flex;
  align-items: center;
}

.result-team img {
  width: 25px;
  height: 25px;
  object-fit: contain;
  margin-right: 10px;
}

.result-progress {
  flex-grow: 1;
  height: 25px;
  background: #e0e0e0;
  border-radius: 5px;
  margin: 0 15px;
  overflow: hidden;
}

.result-fill {
  height: 100%;
  border-radius: 5px;
  transition: width 0.5s ease-out;
}

.result-percent {
  width: 80px;
  text-align: right;
  font-weight: bold;
}

.poll-message {
  text-align: center;
  margin-top: 15px;
  font-weight: 500;
}

.success-message {
  color: #2e7d32;
}

.error-message {
  color: #d32f2f;
}

.total-votes {
  text-align: center;
  margin-top: 20px;
  font-weight: bold;
  color: #0a3d62;
}

/* === LOGO GAMBETRI === */
.logo-section {
  text-align: center;
  margin: 30px auto;
  max-width: 1200px;
}

.logo-section img {
  max-width: 300px;
  height: auto;
}

/* === RESPONSIVE === */
@media (max-width: 768px) {
  news-slider {
    height: 350px; /* Altura menor en móviles */
  }
  
  .slide-title {
    font-size: 1.2rem; /* Título más pequeño en móviles */
  }
  
  .slide-content {
    padding: 15px; /* Menos padding en móviles */
  } 
  .slide img {
    height: 300px;
  }
  
  .poll-grid {
    grid-template-columns: 1fr;
  }
  
  .slider-btn {
    width: 30px;
    height: 30px;
    font-size: 16px;
  }
}
/* Estilos para la tabla histórica */
#tabla-historica tr:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

#tabla-historica td, #tabla-historica th {
  padding: 8px 5px;
  text-align: center;
}

#tabla-historica th {
  background-color: #0a3d62;
  color: white;
  position: sticky;
  top: 0;
}

#tabla-historica .celda-equipo {
  min-width: 150px;
  text-align: left;
}

/* Colores para posiciones históricas */
#tabla-historica .top-pos {
  background-color: rgba(212, 237, 218, 0.7); /* Verde claro */
}

#tabla-historica .mid-pos {
  background-color: rgba(255, 243, 205, 0.7); /* Amarillo claro */
}

#tabla-historica .low-pos {
  background-color: rgba(248, 215, 218, 0.7); /* Rojo claro */
}
/* MEDIA QUERY PARA DESKTOP (min-width: 992px) */
@media (min-width: 992px) {
     .section {
    display: none; /* Oculta todas las secciones por defecto */
  }
  
  .section.active {
    display: block; /* Muestra solo la activa */
    animation: fadeIn 0.5s ease;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
}
/* ESTILOS ACTUALIZADOS - COPIA ESTO */
#posiciones > div {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

/* Desktop (993px en adelante) */
@media (min-width: 993px) {
  #posiciones > div {
    width: calc(100% - 20px);
    margin-left: 20px;
  }
  #posiciones > div > div:first-child {
    flex: 1.5;
    min-width: 0;
  }
  #posiciones > div > div:nth-child(2) {
    flex: 1;
    min-width: 280px;
  }
}

/* Móvil (hasta 768px) */
@media (max-width: 768px) {
  #posiciones > div {
    flex-direction: column;
  }
  #posiciones > div > div {
    width: 100%;
    min-width: 100% !important;
  }
}
/* =============================================== */
/* MEDIA QUERY PARA MÓVILES (max-width: 768px) */
/* =============================================== */
@media (max-width: 768px) {
  /* Ajustes generales */
  .tabs-container {
    overflow-x: auto;
    flex-wrap: nowrap;
  }
  
  .partido-equipo {
    flex-direction: column;
    text-align: center;
    width: 30%;
  }
  
  .partido-escudo {
    margin: 5px 0;
  }

 
}
 /* ===== NUEVA BARRA DE NAVEGACIÓN ===== */
#main-nav {
  position: fixed;
  left: 0;
  top: 0;
  bottom: 0;
  width: 220px;
  display: flex;
  flex-direction: column;
  padding: 1rem 0;
  background: linear-gradient(180deg, #0a3d62 0%, #1e88e5 100%);
  box-shadow: 2px 0 10px rgba(0,0,0,0.1);
  z-index: 90;
  transform: translateX(-100%);
  transition: transform 0.3s ease;
}

#main-nav.active {
  transform: translateX(0);
}

#main-nav button {
  width: calc(100% - 20px);
  margin: 5px 10px;
  text-align: left;
  padding: 12px 15px;
  border-radius: 4px;
  font-size: 0.95rem;
  background: rgba(255,255,255,0.1);
  color: white;
  border: none;
  cursor: pointer;
  transition: all 0.3s ease;
}

#main-nav button:hover {
  background: rgba(255,255,255,0.2);
}

#main-nav button.active {
  background: white;
  color: #0a3d62;
  font-weight: 600;
}

/* Botón del menú hamburguesa */
.menu-toggle {
  display: none;
  position: absolute;
  right: 20px;
  top: 20px;
  background: rgba(255,255,255,0.2);
  border: none;
  color: white;
  font-size: 1.5rem;
  width: 40px;
  height: 40px;
  border-radius: 4px;
  cursor: pointer;
  z-index: 100;
}

/* Ajustes del contenido principal */
body {
  padding-left: 0;
  transition: padding-left 0.3s ease;
}

body.nav-active {
  padding-left: 220px;
  overflow-x: hidden;
}

/* Secciones ajustadas */
.section {
  padding: 2rem;
  margin-left: 0;
  transition: margin-left 0.3s ease;
}

/* Estilos para móvil */
@media (max-width: 992px) {
  .menu-toggle {
    display: block;
  }
  
  body.nav-active::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.5);
    z-index: 80;
  }
}

/* Estilos para desktop */
@media (min-width: 993px) {
  #main-nav {
    transform: translateX(0);
  }
  
  body {
    padding-left: 220px;
  }
  
  .menu-toggle {
    display: none;
  }
}  
</style>
</head>
<body>
<header>
  <div class="header-logos">
    <img src="gambetri.jpg" alt="Logo GambeTri" class="header-logo">
    <h1>GambeTri</h1>
    <img src="ligapro.png" alt="Logo LigaPro" class="header-logo">
  </div>
  <p>El portal de estadísticas del fútbol ecuatoriano</p>
  <button class="menu-toggle" aria-label="Abrir menú">☰</button> 
</header>
<nav id="main-nav">
  <button class="active" onclick="showSection('inicio')">Inicio</button>
  <button onclick="showSection('mano-a-mano')">Historial Mano a Mano</button>
  <button onclick="showSection('posiciones')">Tabla de Posiciones</button>
  <button onclick="showSection('partidos')">Calendario Completo</button>
  <button onclick="showSection('simulador')">Simulador</button>
  <button onclick="showSection('historica')">Tabla Histórica</button>
  <button onclick="showSection('copa-ecuador')">Copa Ecuador 2025</button>
</nav>
<section class="section active inicio" id="inicio">
   <!-- CARRUSEL DE NOTICIAS -->
        <div class="news-slider">
            <div class="slider-container" id="slider">
                <!-- NOTICIA 1 -->
                <div class="slide">
                    <img src="noticia-1.png" alt="Noticia 1" loading="lazy">
                    <div class="slide-content">
                        <span class="slide-tag">RESULTADO</span>
                        <h2 class="slide-title">Cuenca Jrs 2 - 0 Barcelona</h2>
                        <p>Batacazo y eliminación del ídolo frente a un club se segunda.</p>
                    </div>
                </div>
                
                <!-- NOTICIA 2 -->
                <div class="slide">
                    <img src="noticia-2.jpg" alt="Noticia 2" loading="lazy">
                    <div class="slide-content">
                        <span class="slide-tag">CRISIS</span>
                        <h2 class="slide-title">Un histórico de 40 años</h2>
                        <p>El verdugo de Barcelona fue un viejo conocido, Jorge 'La Tuka' Ordoñez.</p>
                    </div>
                </div>
                
                <!-- NOTICIA 3 -->
                <div class="slide">
                    <img src="noticia-3.jpg" alt="Noticia 3" loading="lazy">
                    <div class="slide-content">
                        <span class="slide-tag">FINAL</span>
                        <h2 class="slide-title">Definidos los 8avos de final</h2>
                        <p>Los 8avos de final de Copa Ecuador se encuentran definidos en todas las llaves.</p>
                    </div>
                </div>
            </div>
            
            <!-- FLECHAS DE NAVEGACIÓN -->
            <div class="slider-nav">
                <button class="slider-btn" id="prevBtn">❮</button>
                <button class="slider-btn" id="nextBtn">❯</button>
            </div>
            
            <!-- PUNTOS INDICADORES -->
            <div class="slider-dots" id="dots">
                <!-- Se generan automáticamente con JS -->
            </div>
        </div>
        
        <!-- LOGO GAMBETRI -->
        <div class="logo-section">
            <img src="logo-ultimo.png" alt="GambeTri Logo" loading="lazy">
        </div>
        
        <!-- ENCUESTA CAMPEONATO -->
        <div class="poll-container">
  <h2 class="poll-title">¿Quién crees que será campeón?</h2>
  <div class="poll-grid" id="pollOptions">
    <!-- OPCIÓN 1 -->
    <div class="poll-option" data-team="idv">
      <img src="idv.png" alt="Independiente del Valle">
      <span>Independiente del Valle</span>
    </div>
    
    <!-- OPCIÓN 2 -->
    <div class="poll-option" data-team="bsc">
      <img src="barcelona.png" alt="Barcelona SC">
      <span>Barcelona SC</span>
    </div>
    
    <!-- OPCIÓN 3 -->
    <div class="poll-option" data-team="ldu">
      <img src="ldu.png" alt="Liga de Quito">
      <span>Liga de Quito</span>
    </div>
    
    <!-- OPCIÓN 4 -->
    <div class="poll-option" data-team="aucas">
      <img src="aucas.png" alt="Aucas">
      <span>Aucas</span>
    </div>
    
    <!-- OPCIÓN 5 -->
    <div class="poll-option" data-team="cuenca">
      <img src="cuenca.png" alt="Deportivo Cuenca">
      <span>Deportivo Cuenca</span>
    </div>
    
    <!-- OPCIÓN 6 -->
    <div class="poll-option" data-team="orense">
      <img src="orense.png" alt="Orense">
      <span>Orense</span>
    </div>
  </div>
  
  <button class="poll-btn" id="voteBtn">Votar</button>
  
  <div class="poll-message" id="pollMessage"></div>
  
  <div class="poll-results" id="pollResults">
    <h3>Resultados de la votación:</h3>
    <div class="results-container" id="resultsContainer"></div>
    <div class="total-votes" id="totalVotes"></div>
  </div>
</div>
    
</section>

<section class="section" id="partidos">
  <h2>Calendario Completo</h2>
  
  <div class="tabs-container">
    <button class="tab-button active" onclick="openTab('pasadas')">Fechas Pasadas</button>
    <button class="tab-button" onclick="openTab('actual')">Fecha Actual</button>
    <button class="tab-button" onclick="openTab('futuras')">Fechas Futuras</button>
    <button class="tab-button" onclick="openTab('hexagonal-a')">Hexagonal A</button>
    <button class="tab-button" onclick="openTab('hexagonal-b')">Hexagonal B</button>
    <button class="tab-button" onclick="openTab('cuadrangular')">Cuadrangular Descenso</button>
  </div>
  
  <!-- Fechas Pasadas -->
  <div id="pasadas" class="tab-content active">
    <h3>Fechas Jugadas</h3>
    <div id="pasadas-container"></div>
  </div>
  
  <!-- Fecha Actual -->
  <div id="actual" class="tab-content">
    <h3>Fecha en Juego</h3>
    <div id="actual-container"></div>
  </div>
  
  <!-- Fechas Futuras -->
  <div id="futuras" class="tab-content">
    <h3>Próximas Fechas</h3>
    <div id="futuras-container"></div>
  </div>
  
  <!-- Hexagonal A -->
  <div id="hexagonal-a" class="tab-content">
    <h3>Hexagonal A (Clasificación a Libertadores)</h3>
    <div id="hexagonal-a-container"></div>
  </div>
  
  <!-- Hexagonal B -->
  <div id="hexagonal-b" class="tab-content">
    <h3>Hexagonal B (Clasificación a Sudamericana)</h3>
    <div id="hexagonal-b-container"></div>
  </div>
  
  <!-- Cuadrangular Descenso -->
  <div id="cuadrangular" class="tab-content">
    <h3>Cuadrangular de Descenso</h3>
    <div id="cuadrangular-container"></div>
  </div>
</section>

<section class="section" id="posiciones">
  <h2>Tabla de Posiciones</h2>
  
  <!-- Contenedor flexible para tabla + estadísticas -->
  <div style="display: flex; flex-wrap: wrap; gap: 20px;">
    
    <!-- Tabla de posiciones (izquierda) -->
    <div style="flex: 1.5; min-width: 0; overflow-x: auto;">
      <table style="width: 100%;">
        <thead>
          <tr><th>Pos</th><th>Equipo</th><th>PJ</th><th>PTS</th><th>PG</th><th>PE</th><th>PP</th><th>GF</th><th>GC</th><th>DF</th></tr>
        </thead>
        <tbody id="tabla-posiciones"></tbody>
      </table>
    </div>

    <!-- Estadísticas (derecha) -->
    <div style="flex: 1; min-width: 280px; background: #f8f9fa; border-radius: 8px; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
      
      <!-- Top 5 Goleadores -->
      <h3 style="margin-top: 0; color: #d32f2f; border-bottom: 2px solid #d32f2f; padding-bottom: 5px;">⚽ Top 5 Goleadores</h3>
      <table style="width: 100%; font-size: 14px;">
        <thead>
          <tr><th>#</th><th>Jugador</th><th>Equipo</th><th>PJ</th><th>Min</th><th>G</th><th>G/P</th></tr>
        </thead>
        <tbody id="top-goleadores">
          <!-- Los datos se cargarán con JavaScript -->
        </tbody>
      </table>

      <!-- Top 5 Asistencias -->
      <h3 style="margin-top: 20px; color: #1976d2; border-bottom: 2px solid #1976d2; padding-bottom: 5px;">🎯 Top 5 Asistencias</h3>
      <table style="width: 100%; font-size: 14px;">
        <thead>
          <tr><th>#</th><th>Jugador</th><th>Equipo</th><th>PJ</th><th>Min</th><th>A</th><th>A/P</th></tr>
        </thead>
        <tbody id="top-asistencias">
          <!-- Los datos se cargarán con JavaScript -->
        </tbody>
      </table>
    </div>
  </div>

  <!-- Leyenda de colores -->
  <div class="leyenda-posiciones" style="margin-top: 20px; background: #f8f9fa; padding: 15px; border-radius: 8px; border: 1px solid #ddd;">
    <h3 style="margin-top: 0;">¿Qué significan los colores?</h3>
    <ul style="list-style-type: none; padding: 0; margin-bottom: 0;">
      <li style="margin-bottom: 8px;">
        <span style="display: inline-block; width: 20px; height: 20px; background-color: #d4edda; border: 1px solid #999; margin-right: 10px; vertical-align: middle;"></span>
        <strong>Top 6 (Verde):</strong> Clasifican a hexagonal final (Libertadores y Sudamericana).
      </li>
      <li style="margin-bottom: 8px;">
        <span style="display: inline-block; width: 20px; height: 20px; background-color: #fff3cd; border: 1px solid #999; margin-right: 10px; vertical-align: middle;"></span>
        <strong>Puestos 7-12 (Amarillo):</strong> Posibilidad de Copa Sudamericana.
      </li>
      <li>
        <span style="display: inline-block; width: 20px; height: 20px; background-color: #f8d7da; border: 1px solid #999; margin-right: 10px; vertical-align: middle;"></span>
        <strong>Puestos 13-16 (Rojo):</strong> Zona de descenso directo.
      </li>
    </ul>
    <p style="font-size: 12px; color: #666; margin-top: 10px; margin-bottom: 0;">
      * ............
    </p>
  </div>
</section>

<section class="section" id="mano-a-mano">
<h2>Historial Mano a Mano</h2>
<select id="selector-enfrentamiento">
<option value="LDU-Quito">LDU vs Quito</option>
<option value="LDU-Barcelona">LDU vs Barcelona</option>
<option value="LDU-Nacional">LDU vs Nacional</option>
<option value="Barcelona-Emelec">Barcelona vs Emelec</option>
<option value="Barcelona-Nacional">Barcelona vs Nacional</option>
<option value="LDU-IDV">LDU vs IDV</option>
<option value="Cuenca-LDU">Cuenca vs LDU</option>
<option value="Macará-Técnico">Macará vs Técnico</option>
<option value="LDU-Delfín">LDU vs Delfín</option>
<option value="LDU-Católica">LDU vs Católica</option>
<option value="LDU-Emelec">LDU vs Emelec</option>    
</select>
<canvas height="250" id="graficoEnfrentamiento" width="400"></canvas>
</section>

<section class="section" id="simulador">
  <h2>Simulador de Posiciones</h2>
  <div id="partidos-simulador">
    <h3>Simula los próximos partidos:</h3>
    
    <!-- Partido aplazado -->
<div class="partido-simulado">
  <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
    <span>Miércoles 18:</span>
    <select class="equipo-local" style="padding: 5px;">
      <option value="Liga de Quito" selected>Liga de Quito</option>
    </select>
    <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
    <span>vs</span>
    <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
    <select class="equipo-visitante" style="padding: 5px;">
      <option value="Barcelona SC" selected>Barcelona SC</option>
    </select>
  </div>
</div>

    <!-- Fecha 17 -->
    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>Viernes 20:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="Libertad" selected>Libertad</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="T. Universitario" selected>T. Universitario</option>
        </select>
      </div>
    </div>

    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>Sábado 21:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="El Nacional" selected>El Nacional</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="U. Católica" selected>U. Católica</option>
        </select>
      </div>
    </div>

    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>Sábado 21:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="Emelec" selected>Emelec</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="Delfín" selected>Delfín</option>
        </select>
      </div>
    </div>

    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>Sábado 21:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="Macará" selected>Macará</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="Vinotinto FC" selected>Vinotinto FC</option>
        </select>
      </div>
    </div>

    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>Domingo 22:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="Liga de Quito" selected>Liga de Quito</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="I. del Valle" selected>I. del Valle</option>
        </select>
      </div>
    </div>

    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>Domingo 22:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="Aucas" selected>Aucas</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="D. Cuenca" selected>D. Cuenca</option>
        </select>
      </div>
    </div>

    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>Domingo 22:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="Mushuc Runa" selected>Mushuc Runa</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="Barcelona SC" selected>Barcelona SC</option>
        </select>
      </div>
    </div>

    <div class="partido-simulado">
      <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <span>Lunes 23:</span>
        <select class="equipo-local" style="padding: 5px;">
          <option value="Manta" selected>Manta</option>
        </select>
        <input type="number" class="goles-local" min="0" value="0" style="width: 50px; padding: 5px;">
        <span>vs</span>
        <input type="number" class="goles-visitante" min="0" value="0" style="width: 50px; padding: 5px;">
        <select class="equipo-visitante" style="padding: 5px;">
          <option value="Orense" selected>Orense</option>
        </select>
      </div>
    </div>
  </div>

  <button id="calcular-simulacion" style="margin-top: 15px; padding: 10px 20px; background: #1b1b1b; color: white; border: none; cursor: pointer;">
    Calcular Proyección
  </button>
  <div id="tabla-simulada" style="margin-top: 20px;"></div>
</section>

<section class="section" id="historica">
  <h2>Tabla Histórica de Primera División Ecuatoriana</h2>
  <p>Estadísticas acumuladas desde 1957 hasta 2024 (no incluye Copas Nacionales ni definiciones mata-mata)</p>
  
  <div style="overflow-x: auto; margin-bottom: 20px;">
    <table style="width: 100%; margin-top: 1rem;">
      <thead>
        <tr>
          <th>Pos</th>
          <th>Equipo</th>
          <th>PtsHis</th>
          <th>Ptsx3V</th>
          <th>PJ</th>
          <th>PGT</th>
          <th>PG2</th>
          <th>PG3</th>
          <th>PE</th>
          <th>PP</th>
          <th>GF</th>
          <th>GC</th>
          <th>GD</th>
          <th>%PG</th>
          <th>%PE</th>
          <th>%PP</th>
        </tr>
      </thead>
      <tbody id="tabla-historica">
        <!-- Los datos se cargarán con JavaScript -->
      </tbody>
    </table>
  </div>
  
  <div style="margin-top: 20px; background: #f8f9fa; padding: 15px; border-radius: 8px; border: 1px solid #ddd;">
    <h3>Leyenda:</h3>
    <ul>
      <li><strong>PtsHis:</strong> Puntaje aplicando puntos por victoria según el reglamento de cada época (3 puntos a partir de 1995/96 y 2 puntos en torneos previos)</li>
      <li><strong>Ptsx3V:</strong> Puntaje aplicando reglamento actual a todas las épocas (3 puntos por victoria)</li>
      <li><strong>PGT:</strong> Victorias totales</li>
      <li><strong>PG2:</strong> Victorias de 2 puntos (antes de 1995/96)</li>
      <li><strong>PG3:</strong> Victorias de 3 puntos (desde 1995/96)</li>
      <li><strong>%PG, %PE, %PP:</strong> Porcentaje de partidos ganados, empatados y perdidos</li>
    </ul>
    <p><strong>Nota:</strong> Los datos se actualizan automáticamente con los resultados de la temporada actual.</p>
  </div>
</section>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
function showSection(id) {
  document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}
// Datos iniciales de la tabla
let tablaBase = [
  ["I. del Valle",15,31,9,4,2,29,14,15],
  ["Barcelona SC",14,29,9,2,3,20,15,5],
  ["Aucas",15,25,7,4,4,22,16,6],
  ["Liga de Quito",14,23,6,5,3,22,14,8],
  ["D. Cuenca",15,23,7,2,6,14,13,1],
  ["Orense",15,23,7,2,6,18,20,-2],
  ["Vinotinto FC",15,22,6,4,5,24,19,5],
  ["U. Católica",15,20,5,5,5,24,19,5],
  ["El Nacional",15,19,5,4,6,21,21,0],
  ["Libertad",15,19,5,4,6,19,20,-1],
  ["Delfín",15,18,4,6,5,12,20,-8],
  ["Manta",15,16,3,7,5,21,27,-6],
  ["Emelec",15,16,4,4,7,9,18,-9],
  ["Macará",15,15,3,6,6,12,15,-3],
  ["Mushuc Runa",15,15,4,3,8,21,26,-5],
  ["T. Universitario",15,10,2,4,9,14,25,-11]
];

// Mapeo de escudos
const escudosEquipos = {
  "I. del Valle": "idv.png",
  "Barcelona SC": "barcelona.png",
  "Liga de Quito": "ldu.png",
  "Aucas": "aucas.png",
  "D. Cuenca": "cuenca.png",
  "Orense": "orense.png",
  "Vinotinto FC": "vinotinto.png",
  "U. Católica": "catolica.png",
  "El Nacional": "nacional.png",
  "Libertad": "libertad.png",
  "Delfín": "delfin.png",
  "Manta": "manta.png",
  "Emelec": "emelec.png",
  "Macará": "macara.png",
  "Mushuc Runa": "mushuc.png",
  "T. Universitario": "tecnico.png"
};

// Datos completos de todas las fechas
const todasLasFechas = [
  {
    id: 'fecha16',
    nombre: 'Fecha 16',
    status: 'pasada',
    partidos: [
      { fecha: 'Sáb 14/06', hora: '14:00', local: 'I. del Valle', escudoLocal: 'idv.png', gl: 1, gv: 1, visitante: 'Libertad', escudoVisitante: 'libertad.png', jugado: true },
      { fecha: 'Sáb 14/06', hora: '16:30', local: 'Barcelona SC', escudoLocal: 'barcelona.png', gl: 1, gv: 2, visitante: 'Manta', escudoVisitante: 'manta.png', jugado: true },
      { fecha: 'Sáb 14/06', hora: '19:00', local: 'Vinotinto FC', escudoLocal: 'vinotinto.png', gl: 1, gv: 2, visitante: 'Liga de Quito', escudoVisitante: 'ldu.png', jugado: true },
      { fecha: 'Dom 15/06', hora: '13:00', local: 'T. Universitario', escudoLocal: 'tecnico.png', gl: 1, gv: 1, visitante: 'Aucas', escudoVisitante: 'aucas.png', jugado: true },
      { fecha: 'Dom 15/06', hora: '15:30', local: 'D. Cuenca', escudoLocal: 'cuenca.png', gl: 4, gv: 1, visitante: 'El Nacional', escudoVisitante: 'nacional.png', jugado: true },
      { fecha: 'Dom 15/06', hora: '18:00', local: 'Delfín', escudoLocal: 'delfin.png', gl: 3, gv: 1, visitante: 'Mushuc Runa', escudoVisitante: 'mushuc.png', jugado: true },
      { fecha: 'Lun 16/06', hora: '19:00', local: 'Orense', escudoLocal: 'orense.png', gl: 1, gv: 0, visitante: 'Macará', escudoVisitante: 'macara.png', jugado: true }
    ]
  },
  {
    id: 'fecha7-aplazada',
    nombre: 'Fecha 7 (Aplazada)',
    status: 'pasada',
    partidos: [
      { fecha: 'Mié 18/06', hora: '19:00', local: 'Liga de Quito', escudoLocal: 'ldu.png', gl: 3, gv: 1, visitante: 'Barcelona SC', escudoVisitante: 'barcelona.png', jugado: true }
    ]
  },
  {
    id: 'fecha17',
    nombre: 'Fecha 17',
    status: 'pasada',
    partidos: [
      { fecha: 'Vie 20/06', hora: '19:00', local: 'Libertad', escudoLocal: 'libertad.png', gl: 4, gv: 1, visitante: 'T. Universitario', escudoVisitante: 'tecnico.png', jugado: true },
      { fecha: 'Sáb 21/06', hora: '14:00', local: 'El Nacional', escudoLocal: 'nacional.png', gl: 0, gv: 3, visitante: 'U. Católica', escudoVisitante: 'catolica.png', jugado: true },
      { fecha: 'Sáb 21/06', hora: '16:30', local: 'Emelec', escudoLocal: 'emelec.png', gl: 2, gv: 2, visitante: 'Delfín', escudoVisitante: 'delfin.png', jugado: true },
      { fecha: 'Sáb 21/06', hora: '19:00', local: 'Macará', escudoLocal: 'macara.png', gl: 1, gv: 0, visitante: 'Vinotinto FC', escudoVisitante: 'vinotinto.png', jugado: true },
      { fecha: 'Dom 22/06', hora: '12:00', local: 'Liga de Quito', escudoLocal: 'ldu.png', gl: 1, gv: 1, visitante: 'I. del Valle', escudoVisitante: 'idv.png', jugado: true },
      { fecha: 'Dom 22/06', hora: '15:00', local: 'Aucas', escudoLocal: 'aucas.png', gl: 1, gv: 3, visitante: 'D. Cuenca', escudoVisitante: 'cuenca.png', jugado: true },
      { fecha: 'Dom 22/06', hora: '18:00', local: 'Mushuc Runa', escudoLocal: 'mushuc.png', gl: 0, gv: 5, visitante: 'Barcelona SC', escudoVisitante: 'barcelona.png', jugado: true },
      { fecha: 'Lun 23/06', hora: '19:00', local: 'Manta', escudoLocal: 'manta.png', gl: 0, gv: 0, visitante: 'Orense', escudoVisitante: 'orense.png', jugado: true }
    ]
  },
  {
    id: 'fecha16-aplazada',
    nombre: 'Fecha 16 (Aplazada)',
    status: 'pasada',
    partidos: [
      { fecha: 'Mié 25/06', hora: '19:00', local: 'U. Católica', escudoLocal: 'catolica.png', gl: 1, gv: 1, visitante: 'Emelec', escudoVisitante: 'emelec.png', jugado: true }
    ]
  },  
  {
    id: 'fecha18',
    nombre: 'Fecha 18',
    status: 'pasada',
    partidos: [
      { fecha: 'Vie 27/06', hora: '19:00', local: 'D. Cuenca', escudoLocal: 'cuenca.png', gl: 1, gv: 0, visitante: 'Mushuc Runa', escudoVisitante: 'mushuc.png', jugado: true },
      { fecha: 'Sáb 28/06', hora: '14:00', local: 'Delfín', escudoLocal: 'delfin.png', gl: 2, gv: 0, visitante: 'Manta', escudoVisitante: 'manta.png', jugado: true },
      { fecha: 'Sáb 28/06', hora: '16:30', local: 'Barcelona SC', escudoLocal: 'barcelona.png', gl: 3, gv: 3, visitante: 'Libertad', escudoVisitante: 'libertad.png', jugado: true },
      { fecha: 'Sáb 28/06', hora: '19:00', local: 'Orense', escudoLocal: 'orense.png', gl: 2, gv: 1, visitante: 'Liga de Quito', escudoVisitante: 'ldu.png', jugado: true },
      { fecha: 'Dom 29/06', hora: '13:00', local: 'T. Universitario', escudoLocal: 'tecnico.png', gl: 0, gv: 0, visitante: 'El Nacional', escudoVisitante: 'nacional.png', jugado: true },
      { fecha: 'Dom 29/06', hora: '15:30', local: 'U. Católica', escudoLocal: 'catolica.png', gl: 0, gv: 3, visitante: 'I. del Valle', escudoVisitante: 'idv.png', jugado: true },
      { fecha: 'Dom 29/06', hora: '19:00', local: 'Macará', escudoLocal: 'macara.png', gl: 1, gv: 1, visitante: 'Emelec', escudoVisitante: 'emelec.png', jugado: true },
      { fecha: 'Lun 30/06', hora: '19:00', local: 'Vinotinto FC', escudoLocal: 'vinotinto.png', gl: 0, gv: 1, visitante: 'Aucas', escudoVisitante: 'aucas.png', jugado: true }
    ]
  },
  {
    id: 'fecha19',
    nombre: 'Fecha 19',
    status: 'pasada',
    partidos: [
      { fecha: 'Vie 04/07', hora: '19:00', local: 'Libertad', escudoLocal: 'libertad.png', gl: 2, gv: 1, visitante: 'D. Cuenca', escudoVisitante: 'cuenca.png', jugado: true },
      { fecha: 'Sáb 05/07', hora: '14:00', local: 'Mushuc Runa', escudoLocal: 'mushuc.png', gl: 1, gv: 1, visitante: 'U. Católica', escudoVisitante: 'catolica.png', jugado: true },
      { fecha: 'Sáb 05/07', hora: '16:30', local: 'Emelec', escudoLocal: 'emelec.png', gl: 2, gv: 0, visitante: 'Vinotinto FC', escudoVisitante: 'vinotinto.png', jugado: true },
      { fecha: 'Sáb 05/07', hora: '19:00', local: 'I. del Valle', escudoLocal: 'idv.png', gl: 1, gv: 1, visitante: 'Barcelona SC', escudoVisitante: 'barcelona.png', jugado: true },
      { fecha: 'Dom 06/07', hora: '13:00', local: 'Aucas', escudoLocal: 'aucas.png', gl: 1, gv: 4, visitante: 'Macará', escudoVisitante: 'macara.png', jugado: true },
      { fecha: 'Dom 06/07', hora: '15:30', local: 'El Nacional', escudoLocal: 'nacional.png', gl: 1, gv: 0, visitante: 'Manta', escudoVisitante: 'manta.png', jugado: true },
      { fecha: 'Dom 06/07', hora: '18:00', local: 'Delfín', escudoLocal: 'delfin.png', gl: 0, gv: 4, visitante: 'Liga de Quito', escudoVisitante: 'ldu.png', jugado: true },
      { fecha: 'Lun 07/07', hora: '19:00', local: 'T. Universitario', escudoLocal: 'tecnico.png', gl: 1, gv: 2, visitante: 'Orense', escudoVisitante: 'orense.png', jugado: true }
    ]
  },
  {
    id: 'fecha20',
    nombre: 'Fecha 20',
    status: 'pasada',
    partidos: [
      { fecha: 'Vie 11/07', hora: '19:00', local: 'Macará', escudoLocal: 'macara.png', gl: 1, gv: 2, visitante: 'I. del Valle', escudoVisitante: 'idv.png', jugado: true },
      { fecha: 'Sáb 12/07', hora: '14:00', local: 'Manta', escudoLocal: 'manta.png', gl: 4, gv: 2, visitante: 'U. Católica', escudoVisitante: 'catolica.png', jugado: true },
      { fecha: 'Sáb 12/07', hora: '16:30', local: 'Liga de Quito', escudoLocal: 'ldu.png', gl: 2, gv: 0, visitante: 'Emelec', escudoVisitante: 'emelec.png', jugado: true },
      { fecha: 'Sáb 12/07', hora: '19:00', local: 'Barcelona SC', escudoLocal: 'barcelona.png', gl: 1, gv: 1, visitante: 'T. Universitario', escudoVisitante: 'tecnico.png', jugado: true },
      { fecha: 'Dom 13/07', hora: '13:00', local: 'Vinotinto FC', escudoLocal: 'vinotinto.png', gl: 1, gv: 1, visitante: 'Mushuc Runa', escudoVisitante: 'mushuc.png', jugado: true },
      { fecha: 'Dom 13/07', hora: '15:30', local: 'Orense', escudoLocal: 'orense.png', gl: 0, gv: 1, visitante: 'Libertad', escudoVisitante: 'libertad.png', jugado: true },
      { fecha: 'Dom 13/07', hora: '18:00', local: 'D. Cuenca', escudoLocal: 'cuenca.png', gl: 1, gv: 1, visitante: 'Delfín', escudoVisitante: 'delfin.png', jugado: true },
      { fecha: 'Lun 14/07', hora: '19:00', local: 'Aucas', escudoLocal: 'aucas.png', gl: 1, gv: 0, visitante: 'El Nacional', escudoVisitante: 'nacional.png', jugado: true }
    ]
  },
  {
    id: 'fecha21',
    nombre: 'Fecha 21',
    status: 'pasada',
    partidos: [
      { fecha: 'Vie 18/07', hora: '19:00', local: 'I. del Valle', escudoLocal: 'idv.png', gl: 2, gv: 1, visitante: 'Aucas', escudoVisitante: 'aucas.png', jugado: true },
      { fecha: 'Sáb 19/07', hora: '14:00', local: 'U. Católica', escudoLocal: 'catolica.png', gl: 3, gv: 0, visitante: 'Vinotinto FC', escudoVisitante: 'vinotinto.png', jugado: true },
      { fecha: 'Sáb 19/07', hora: '16:30', local: 'Orense', escudoLocal: 'orense.png', gl: 1, gv: 1, visitante: 'El Nacional', escudoVisitante: 'nacional.png', jugado: true },
      { fecha: 'Sáb 19/07', hora: '19:00', local: 'Delfín', escudoLocal: 'delfin.png', gl: 0, gv: 1, visitante: 'Barcelona SC', escudoVisitante: 'barcelona.png', jugado: true },
      { fecha: 'Dom 20/07', hora: '13:00', local: 'T. Universitario', escudoLocal: 'tecnico.png', gl: 1, gv: 0, visitante: 'Macará', escudoVisitante: 'macara.png', jugado: true },
      { fecha: 'Dom 20/07', hora: '15:30', local: 'Emelec', escudoLocal: 'emelec.png', gl: 1, gv: 0, visitante: 'Mushuc Runa', escudoVisitante: 'mushuc.png', jugado: true },
      { fecha: 'Dom 20/07', hora: '18:00', local: 'Liga de Quito', escudoLocal: 'ldu.png', gl: 2, gv: 2, visitante: 'D. Cuenca', escudoVisitante: 'cuenca.png', jugado: true },
      { fecha: 'Lun 21/07', hora: '19:00', local: 'Libertad', escudoLocal: 'libertad.png', gl: 1, gv: 0, visitante: 'Manta', escudoVisitante: 'manta.png', jugado: true }
    ]
  },
  {
    id: 'fecha22',
    nombre: 'Fecha 22',
    status: 'pasada',
    partidos: [
      { fecha: 'Jue 24/07', hora: '19:00', local: 'Barcelona SC', escudoLocal: 'barcelona.png', gl: 0, gv: 1, visitante: 'Liga de Quito', escudoVisitante: 'ldu.png', jugado: true },
      { fecha: 'Vie 25/07', hora: '19:00', local: 'El Nacional', escudoLocal: 'nacional.png', gl: 2, gv: 2, visitante: 'Libertad', escudoVisitante: 'libertad.png', jugado: true },
      { fecha: 'Sáb 26/07', hora: '14:00', local: 'Aucas', escudoLocal: 'aucas.png', gl: 2, gv: 1, visitante: 'Delfín', escudoVisitante: 'delfin.png', jugado: true },
      { fecha: 'Sáb 26/07', hora: '16:30', local: 'Manta', escudoLocal: 'manta.png', gl: 2, gv: 4, visitante: 'Emelec', escudoVisitante: 'emelec.png', jugado: true },
      { fecha: 'Sáb 26/07', hora: '19:00', local: 'Vinotinto FC', escudoLocal: 'vinotinto.png', gl: 0, gv: 1, visitante: 'Orense', escudoVisitante: 'orense.png', jugado: true },
      { fecha: 'Dom 27/07', hora: '13:00', local: 'Mushuc Runa', escudoLocal: 'mushuc.png', gl: 0, gv: 1, visitante: 'T. Universitario', escudoVisitante: 'tecnico.png', jugado: true },
      { fecha: 'Dom 27/07', hora: '15:30', local: 'Macará', escudoLocal: 'macara.png', gl: 1, gv: 4, visitante: 'U. Católica', escudoVisitante: 'catolica.png', jugado: true },
      { fecha: 'Dom 27/07', hora: '18:00', local: 'D. Cuenca', escudoLocal: 'cuenca.png', gl: 0, gv: 3, visitante: 'I. del Valle', escudoVisitante: 'idv.png', jugado: true }
    ]
  },
  {
    id: 'fecha23',
    nombre: 'Fecha 23',
    status: 'pasada',
    partidos: [
      { fecha: 'Vie 01/08', hora: '19:00', local: 'D. Cuenca', escudoLocal: 'cuenca.png', gl: 1, gv: 1, visitante: 'Macará', escudoVisitante: 'macara.png', jugado: true },
      { fecha: 'Sáb 02/08', hora: '16:30', local: 'Barcelona SC', escudoLocal: 'barcelona.png', gl: 2, gv: 0, visitante: 'Orense', escudoVisitante: 'orense.png', jugado: true },
      { fecha: 'Sáb 02/08', hora: '19:00', local: 'I. del Valle', escudoLocal: 'idv.png', gl: 1, gv: 0, visitante: 'El Nacional', escudoVisitante: 'nacional.png', jugado: true },
      { fecha: 'Dom 03/08', hora: '11:00', local: 'Liga de Quito', escudoLocal: 'ldu.png', gl: 2, gv: 1, visitante: 'Mushuc Runa', escudoVisitante: 'mushuc.png', jugado: true },
      { fecha: 'Dom 03/08', hora: '13:15', local: 'U. Católica', escudoLocal: 'catolica.png', gl: 6, gv: 2, visitante: 'Aucas', escudoVisitante: 'aucas.png', jugado: true },
      { fecha: 'Dom 03/08', hora: '15:30', local: 'T. Universitario', escudoLocal: 'tecnico.png', gl: 3, gv: 1, visitante: 'Manta', escudoVisitante: 'manta.png', jugado: true },
      { fecha: 'Dom 03/08', hora: '18:00', local: 'Libertad', escudoLocal: 'libertad.png', gl: 1, gv: 2, visitante: 'Emelec', escudoVisitante: 'emelec.png', jugado: true },
      { fecha: 'Lun 04/08', hora: '19:00', local: 'Delfín', escudoLocal: 'delfin.png', gl: 3, gv: 3, visitante: 'Vinotinto FC', escudoVisitante: 'vinotinto.png', jugado: true }
    ]
  },  
  {
    id: 'fecha24',
    nombre: 'Fecha 24',
    status: 'pasada',
    partidos: [
      { fecha: 'Vie 08/08', hora: '19:00', local: 'Orense', escudoLocal: 'orense.png', gl: 1, gv: 1, visitante: 'U. Católica', escudoVisitante: 'catolica.png', jugado: true },
      { fecha: 'Sáb 09/08', hora: '14:00', local: 'Mushuc Runa', escudoLocal: 'mushuc.png', gl: 1, gv: 2, visitante: 'Libertad', escudoVisitante: 'libertad.png', jugado: true },
      { fecha: 'Sáb 09/08', hora: '16:30', local: 'Aucas', escudoLocal: 'aucas.png', gl: 1, gv: 0, visitante: 'Liga de Quito', escudoVisitante: 'ldu.png', jugado: true },
      { fecha: 'Sáb 09/08', hora: '19:00', local: 'Manta', escudoLocal: 'manta.png', gl: 0, gv: 0, visitante: 'I. del Valle', escudoVisitante: 'idv.png', jugado: true },
      { fecha: 'Dom 10/08', hora: '13:00', local: 'Vinotinto FC', escudoLocal: 'vinotinto.png', gl: 0, gv: 1, visitante: 'T. Universitario', escudoVisitante: 'tecnico.png', jugado: true },
      { fecha: 'Dom 10/08', hora: '15:30', local: 'Macará', escudoLocal: 'macara.png', gl: 0, gv: 0, visitante: 'Delfín', escudoVisitante: 'delfin.png', jugado: true },
      { fecha: 'Dom 10/08', hora: '18:00', local: 'El Nacional', escudoLocal: 'nacional.png', gl: 1, gv: 2, visitante: 'Barcelona SC', escudoVisitante: 'barcelona.png', jugado: true },
      { fecha: 'Lun 11/08', hora: '16:00', local: 'Emelec', escudoLocal: 'emelec.png', gl: 1, gv: 1, visitante: 'D. Cuenca', escudoVisitante: 'cuenca.png', jugado: true }
    ]
  },
 
  {
    id: 'fecha25',
    nombre: 'Fecha 25',
    status: 'pasada',
    partidos: [
      { fecha: 'Vie 15/08', hora: '19:00', local: 'Delfín', escudoLocal: 'delfin.png', gl: 0, gv: 3, visitante: 'El Nacional', escudoVisitante: 'nacional.png', jugado: true },
      { fecha: 'Sáb 16/08', hora: '14:00', local: 'Mushuc Runa', escudoLocal: 'mushuc.png', gl: 1, gv: 0, visitante: 'Aucas', escudoVisitante: 'aucas.png', jugado: true },
      { fecha: 'Sáb 16/08', hora: '16:30', local: 'U. Católica', escudoLocal: 'catolica.png', gl: 1, gv: 1, visitante: 'Libertad', escudoVisitante: 'libertad.png', jugado: true },
      { fecha: 'Sáb 16/08', hora: '19:00', local: 'I. del Valle', escudoLocal: 'idv.png', gl: 2, gv: 1, visitante: 'Orense', escudoVisitante: 'orense.png', jugado: true },
      { fecha: 'Dom 17/08', hora: '13:00', local: 'Liga de Quito', escudoLocal: 'ldu.png', gl: 1, gv: 1, visitante: 'Manta', escudoVisitante: 'manta.png', jugado: true },
      { fecha: 'Dom 17/08', hora: '15:30', local: 'T. Universitario', escudoLocal: 'tecnico.png', gl: 0, gv: 1, visitante: 'Emelec', escudoVisitante: 'emelec.png', jugado: true },
      { fecha: 'Dom 17/08', hora: '18:00', local: 'Barcelona SC', escudoLocal: 'barcelona.png', gl: 0, gv: 2, visitante: 'Macará', escudoVisitante: 'macara.png', jugado: true },
      { fecha: 'Lun 18/08', hora: '19:00', local: 'D. Cuenca', escudoLocal: 'cuenca.png', gl: 2, gv: 0, visitante: 'Vinotinto FC', escudoVisitante: 'vinotinto.png', jugado: true }
    ]
  }, 
  {
    id: 'fecha26',
    nombre: 'Fecha 26',
    status: 'pasada',
    partidos: [
      { fecha: 'Vie 22/08', hora: '19:00', local: 'Libertad', escudoLocal: 'libertad.png', gl: 3, gv: 2, visitante: 'Aucas', escudoVisitante: 'aucas.png', jugado: true },
      { fecha: 'Sáb 23/08', hora: '14:00', local: 'Macará', escudoLocal: 'macara.png', gl: 2, gv: 1, visitante: 'Mushuc Runa', escudoVisitante: 'mushuc.png', jugado: true },
      { fecha: 'Sáb 23/08', hora: '16:30', local: 'Manta', escudoLocal: 'manta.png', gl: 0, gv: 1, visitante: 'D. Cuenca', escudoVisitante: 'cuenca.png', jugado: true },
      { fecha: 'Sáb 23/08', hora: '19:00', local: 'Vinotinto FC', escudoLocal: 'vinotinto.png', gl: 0, gv: 1, visitante: 'Barcelona SC', escudoVisitante: 'barcelona.png', jugado: true },
      { fecha: 'Dom 24/08', hora: '13:00', local: 'El Nacional', escudoLocal: 'nacional.png', gl: 1, gv: 0, visitante: 'Liga de Quito', escudoVisitante: 'ldu.png', jugado: true },
      { fecha: 'Dom 24/08', hora: '15:30', local: 'Emelec', escudoLocal: 'emelec.png', gl: 0, gv: 1, visitante: 'I. del Valle', escudoVisitante: 'idv.png', jugado: true },
      { fecha: 'Dom 24/08', hora: '18:00', local: 'U. Católica', escudoLocal: 'catolica.png', gl: 2, gv: 0, visitante: 'T. Universitario', escudoVisitante: 'tecnico.png', jugado: true },
      { fecha: 'Lun 25/08', hora: '19:00', local: 'Orense', escudoLocal: 'orense.png', gl: 3, gv: 1, visitante: 'Delfín', escudoVisitante: 'delfin.png', jugado: true }
    ]
  },
  {
    id: 'fecha27',
    nombre: 'Fecha 27',
    status: 'actual',
    partidos: [
      { fecha: 'Vie 29/08', hora: '19:00', local: 'Vinotinto FC', escudoLocal: 'vinotinto.png', gl: null, gv: null, visitante: 'El Nacional', escudoVisitante: 'nacional.png', jugado: false },
      { fecha: 'Sáb 30/08', hora: '14:00', local: 'I. del Valle', escudoLocal: 'idv.png', gl: null, gv: null, visitante: 'T. Universitario', escudoVisitante: 'tecnico.png', jugado: false },
      { fecha: 'Sáb 30/08', hora: '16:30', local: 'Liga de Quito', escudoLocal: 'ldu.png', gl: null, gv: null, visitante: 'Macará', escudoVisitante: 'macara.png', jugado: false },
      { fecha: 'Sáb 30/08', hora: '16:30', local: 'Mushuc Runa', escudoLocal: 'mushuc.png', gl: null, gv: null, visitante: 'Manta', escudoVisitante: 'manta.png', jugado: false },
      { fecha: 'Sáb 30/08', hora: '19:00', local: 'Aucas', escudoLocal: 'aucas.png', gl: null, gv: null, visitante: 'Emelec', escudoVisitante: 'emelec.png', jugado: false }, 
      { fecha: 'Dom 31/08', hora: '15:30', local: 'D. Cuenca', escudoLocal: 'cuenca.png', gl: null, gv: null, visitante: 'Orense', escudoVisitante: 'orense.png', jugado: false },
      { fecha: 'Dom 31/08', hora: '18:00', local: 'Barcelona SC', escudoLocal: 'barcelona.png', gl: null, gv: null, visitante: 'U. Católica', escudoVisitante: 'catolica.png', jugado: false },
      { fecha: 'Lun 01/09', hora: '19:00', local: 'Delfín', escudoLocal: 'delfin.png', gl: null, gv: null, visitante: 'Libertad', escudoVisitante: 'libertad.png', jugado: false }
    ]
  }, 
  {
    id: 'fecha28',
    nombre: 'Fecha 28',
    status: 'futura',
    partidos: [
      { fecha: 'Vie 12/09', hora: '19:00', local: 'Libertad', escudoLocal: 'libertad.png', gl: null, gv: null, visitante: 'Liga de Quito', escudoVisitante: 'ldu.png', jugado: false },
      { fecha: 'Sáb 13/09', hora: '14:00', local: 'I. del Valle', escudoLocal: 'idv.png', gl: null, gv: null, visitante: 'Vinotinto FC', escudoVisitante: 'vinotinto.png', jugado: false },
      { fecha: 'Sáb 13/09', hora: '16:30', local: 'U. Católica', escudoLocal: 'catolica.png', gl: null, gv: null, visitante: 'Delfín', escudoVisitante: 'delfin.png', jugado: false },
      { fecha: 'Sáb 13/09', hora: '19:00', local: 'Orense', escudoLocal: 'vinotinto.png', gl: null, gv: null, visitante: 'Mushuc Runa', escudoVisitante: 'mushuc.png', jugado: false },
      { fecha: 'Dom 14/09', hora: '12:00', local: 'El Nacional', escudoLocal: 'nacional.png', gl: null, gv: null, visitante: 'Macará', escudoVisitante: 'macara.png', jugado: false },
      { fecha: 'Dom 14/09', hora: '15:30', local: 'T. Universitario', escudoLocal: 'emelec.png', gl: null, gv: null, visitante: 'D. Cuenca', escudoVisitante: 'cuenca.png', jugado: false },
      { fecha: 'Dom 14/09', hora: '18:00', local: 'Emelec', escudoLocal: 'emelec.png', gl: null, gv: null, visitante: 'Barcelona SC', escudoVisitante: 'barcelona.png', jugado: false },
      { fecha: 'Lun 15/09', hora: '19:00', local: 'Manta', escudoLocal: 'manta.png', gl: null, gv: null, visitante: 'Aucas', escudoVisitante: 'aucas.png', jugado: false }
    ]
  },    
  // Agregar más fechas hasta la 30...
  {
    id: 'fecha30',
    nombre: 'Fecha 30',
    status: 'futura',
    partidos: [
      { fecha: 'Dom 10/08', hora: '12:00', local: 'Barcelona SC', escudoLocal: 'barcelona.png', gl: null, gv: null, visitante: 'Aucas', escudoVisitante: 'aucas.png', jugado: false },
      { fecha: 'Dom 10/08', hora: '15:00', local: 'T. Universitario', escudoLocal: 'tecnico.png', gl: null, gv: null, visitante: 'Liga de Quito', escudoVisitante: 'ldu.png', jugado: false },
      { fecha: 'Dom 10/08', hora: '18:00', local: 'I. del Valle', escudoLocal: 'idv.png', gl: null, gv: null, visitante: 'Delfín', escudoVisitante: 'delfin.png', jugado: false },
      { fecha: 'Lun 11/08', hora: '19:00', local: 'Orense', escudoLocal: 'orense.png', gl: null, gv: null, visitante: 'Emelec', escudoVisitante: 'emelec.png', jugado: false },
      { fecha: 'Mar 12/08', hora: '19:00', local: 'U. Católica', escudoLocal: 'catolica.png', gl: null, gv: null, visitante: 'D. Cuenca', escudoVisitante: 'cuenca.png', jugado: false },
      { fecha: 'Mié 13/08', hora: '19:00', local: 'El Nacional', escudoLocal: 'nacional.png', gl: null, gv: null, visitante: 'Mushuc Runa', escudoVisitante: 'mushuc.png', jugado: false },
      { fecha: 'Jue 14/08', hora: '19:00', local: 'Manta', escudoLocal: 'manta.png', gl: null, gv: null, visitante: 'Macará', escudoVisitante: 'macara.png', jugado: false },
      { fecha: 'Vie 15/08', hora: '19:00', local: 'Libertad', escudoLocal: 'libertad.png', gl: null, gv: null, visitante: 'Vinotinto FC', escudoVisitante: 'vinotinto.png', jugado: false }
    ]
  }
];

// Función para abrir pestañas
function openTab(tabId) {
  // Oculta todos los contenidos de pestañas
  document.querySelectorAll('.tab-content').forEach(tab => {
    tab.classList.remove('active');
  });
  
  // Desactiva todos los botones
  document.querySelectorAll('.tab-button').forEach(button => {
    button.classList.remove('active');
  });
  
  // Activa la pestaña seleccionada
  document.getElementById(tabId).classList.add('active');
  event.currentTarget.classList.add('active');
  
  // Si es una pestaña de hexagonal, cargar datos
  if (tabId.includes('hexagonal') || tabId === 'cuadrangular') {
    cargarFaseFinal(tabId);
  }
}

// Función para renderizar fechas por estado
function renderizarFechas() {
  const pasadasContainer = document.getElementById('pasadas-container');
  const actualContainer = document.getElementById('actual-container');
  const futurasContainer = document.getElementById('futuras-container');
  
  pasadasContainer.innerHTML = '';
  actualContainer.innerHTML = '';
  futurasContainer.innerHTML = '';
  
  todasLasFechas.forEach(fecha => {
    const container = fecha.status === 'pasada' ? pasadasContainer :
                     fecha.status === 'actual' ? actualContainer :
                     futurasContainer;
    
    const fechaDiv = document.createElement('div');
    fechaDiv.className = 'fecha-container';
    
    const statusClass = `status-${fecha.status}`;
    const statusText = fecha.status === 'pasada' ? 'Jugada' : 
                      fecha.status === 'actual' ? 'En Juego' : 'Próxima';
    
    fechaDiv.innerHTML = `
      <div class="fecha-header">
        ${fecha.nombre} <span class="fecha-status ${statusClass}">${statusText}</span>
      </div>
      <div class="fecha-body" id="${fecha.id}-partidos"></div>
    `;
    
    container.appendChild(fechaDiv);
    
    // Renderizar partidos
    const partidosContainer = document.getElementById(`${fecha.id}-partidos`);
    let currentDate = '';
    
    fecha.partidos.forEach(partido => {
      if (partido.fecha !== currentDate) {
        const fechaHeader = document.createElement('div');
        fechaHeader.className = 'match-date';
        fechaHeader.textContent = partido.fecha;
        partidosContainer.appendChild(fechaHeader);
        currentDate = partido.fecha;
      }
      
      const partidoRow = document.createElement('div');
      partidoRow.className = `partido-row ${partido.jugado ? 'jugado' : ''}`;
      
      const resultado = partido.jugado ? 
        `${partido.gl} - ${partido.gv}` : 
        'vs';
      
      partidoRow.innerHTML = `
        <div class="partido-hora">${partido.hora}</div>
        <div class="partido-equipo local">
          <span class="nombre-equipo">${partido.local}</span>
          <img src="${partido.escudoLocal}" class="partido-escudo">
        </div>
        <div class="partido-resultado">${resultado}</div>
        <div class="partido-equipo visitante">
          <img src="${partido.escudoVisitante}" class="partido-escudo">
          <span class="nombre-equipo">${partido.visitante}</span>
        </div>
      `;
      
      partidosContainer.appendChild(partidoRow);
    });
  });
}

// Función para cargar datos de las fases finales
function cargarFaseFinal(tabId) {
  let container, titulo, descripcion, equipos;
  
  switch(tabId) {
    case 'hexagonal-a':
      container = document.getElementById('hexagonal-a-container');
      titulo = "Hexagonal A - Clasificación a Libertadores";
      descripcion = "Los 6 primeros equipos de la fase regular juegan esta fase para definir al campeón y los cupos internacionales.";
      equipos = ["I. del Valle", "Barcelona SC", "Aucas", "Liga de Quito", "D. Cuenca", "Orense"];
      break;
    case 'hexagonal-b':
      container = document.getElementById('hexagonal-b-container');
      titulo = "Hexagonal B - Clasificación a Sudamericana";
      descripcion = "Los equipos del 7° al 12° puesto juegan esta fase por un cupo a la Copa Sudamericana.";
      equipos = ["Vinotinto FC", "U. Católica", "El Nacional", "Libertad", "Delfín", "Manta"];
      break;
    case 'cuadrangular':
      container = document.getElementById('cuadrangular-container');
      titulo = "Cuadrangular de Descenso";
      descripcion = "Los 4 últimos equipos de la fase regular juegan esta fase donde los dos últimos descienden.";
      equipos = ["Emelec", "Macará", "Mushuc Runa", "T. Universitario"];
      break;
  }
  
  container.innerHTML = `
    <div class="fecha-container">
      <div class="fecha-header">${titulo}</div>
      <div class="fecha-body">
        <p>${descripcion}</p>
        <h4>Equipos clasificados:</h4>
        <ul style="columns: 2; list-style-type: none; padding: 0;">
          ${equipos.map(eq => `<li style="margin-bottom: 8px;">
            <img src="${escudosEquipos[eq]}" style="height: 20px; vertical-align: middle; margin-right: 10px;">
            ${eq}
          </li>`).join('')}
        </ul>
        <p style="margin-top: 15px; font-style: italic;">Esta fase comenzará después de completar las 30 fechas de la fase regular.</p>
      </div>
    </div>
  `;
}

// Función para actualizar la tabla
function actualizarTabla() {
  // Reiniciamos los datos a los valores iniciales
  tablaBase = [
    ["I. del Valle",15,31,9,4,2,29,14,15],
    ["Barcelona SC",14,29,9,2,3,20,15,5],
    ["Aucas",15,25,7,4,4,22,16,6],
    ["Liga de Quito",14,23,6,5,3,22,14,8],
    ["D. Cuenca",15,23,7,2,6,14,13,1],
    ["Orense",15,23,7,2,6,18,20,-2],
    ["Vinotinto FC",15,22,6,4,5,24,19,5],
    ["U. Católica",15,20,5,5,5,24,19,5],
    ["El Nacional",15,19,5,4,6,21,21,0],
    ["Libertad",15,19,5,4,6,19,20,-1],
    ["Delfín",15,18,4,6,5,12,20,-8],
    ["Manta",15,16,3,7,5,21,27,-6],
    ["Emelec",15,16,4,4,7,9,18,-9],
    ["Macará",15,15,3,6,6,12,15,-3],
    ["Mushuc Runa",15,15,4,3,8,21,26,-5],
    ["T. Universitario",15,10,2,4,9,14,25,-11]
  ];

  // Procesamos todos los partidos de fechas pasadas y actuales
  todasLasFechas.forEach(fecha => {
    // Solo procesamos fechas pasadas y actuales (no futuras)
    if (fecha.status === 'pasada' || fecha.status === 'actual') {
      fecha.partidos.forEach(partido => {
        // Solo procesamos partidos jugados con resultados válidos
        if (partido.jugado && partido.gl !== null && partido.gv !== null) {
          const eL = tablaBase.find(e => e[0] === partido.local);
          const eV = tablaBase.find(e => e[0] === partido.visitante);
          
          if (eL && eV) {
            // Actualizamos partidos jugados
            eL[1]++; 
            eV[1]++;
            
            // Actualizamos goles a favor y en contra
            eL[6] += partido.gl; 
            eL[7] += partido.gv;
            eV[6] += partido.gv; 
            eV[7] += partido.gl;
            
            // Actualizamos puntos según el resultado
            if (partido.gl > partido.gv) { 
              // Victoria local
              eL[3]++; 
              eL[2] += 3; 
              eV[5]++; 
            } else if (partido.gv > partido.gl) { 
              // Victoria visitante
              eV[3]++; 
              eV[2] += 3; 
              eL[5]++; 
            } else { 
              // Empate
              eL[4]++; 
              eV[4]++; 
              eL[2]++; 
              eV[2]++; 
            }
            
            // Actualizamos diferencia de goles
            eL[8] = eL[6] - eL[7];
            eV[8] = eV[6] - eV[7];
          }
        }
      });
    }
  });

  // Ordenamos la tabla por puntos y diferencia de goles
  tablaBase.sort((a, b) => b[2] - a[2] || b[8] - a[8]);

  // Actualizamos la tabla en el HTML
  const cuerpo = document.getElementById("tabla-posiciones");
  cuerpo.innerHTML = "";
  
  tablaBase.forEach((e, i) => {
    const claseEscudo = 
      e[0] === "Liga de Quito" ? "ldu" :
      e[0] === "Macará" ? "macara" :
      e[0] === "T. Universitario" ? "tecnico" : "";

    const fila = document.createElement("tr");
    fila.innerHTML = `
      <td>${i + 1}</td>
      <td class="celda-equipo">
        <img src="${escudosEquipos[e[0]]}" class="escudo-equipo ${claseEscudo}">
        <span class="nombre-equipo">${e[0]}</span>
      </td>
      <td>${e[1]}</td>
      <td>${e[2]}</td>
      <td>${e[3]}</td>
      <td>${e[4]}</td>
      <td>${e[5]}</td>
      <td>${e[6]}</td>
      <td>${e[7]}</td>
      <td>${e[8]}</td>
    `;
    
    // Aplicamos clases de color según la posición
    if (i < 6) fila.classList.add("top-pos");
    else if (i < 12) fila.classList.add("mid-pos");
    else fila.classList.add("low-pos");
    
    cuerpo.appendChild(fila);
  });
}

// Configuración del gráfico
const partidosData = {
  "LDU-Quito": [66, 53, 47, "LDU", "Empate", "Quito"],
  "LDU-Barcelona": [84, 60, 90, "LDU", "Empate", "Barcelona"],
  "LDU-Nacional": [81, 78, 80, "LDU", "Empate", "Nacional"],
  "Barcelona-Emelec": [73, 83, 75, "Emelec", "Empate", "Barcelona"],
  "Barcelona-Nacional": [99, 67, 100, "Barcelona", "Empate", "Nacional"],
  "LDU-IDV": [25, 16, 10, "LDU", "Empate", "IDV"],
  "Cuenca-LDU": [50, 57, 69, "Cuenca", "Empate", "LDU"],
  "Macará-Técnico": [18, 15, 12, "Macará", "Empate", "Técnico"],
  "LDU-Delfín": [29, 16, 16, "LDU", "Empate", "Delfín"],
  "LDU-Católica": [51, 29, 31, "LDU", "Empate", "Católica"],
  "LDU-Emelec": [88, 46, 103, "LDU", "Empate", "Emelec"]  
};

const coloresEquipos = {
  "LDU": "#FFFFFF", "Quito": "#DD0000", "Barcelona": "#FFFF00", "Nacional": "#FF0000",
  "Emelec": "#0000FF", "IDV": "#FF69B4", "Cuenca": "#FF0000", "Macará": "#00BFFF",
  "Técnico": "#FF6347", "Delfín": "#00CED1", "Católica": "#191970", "Empate": "#808080"
};

const ctx = document.getElementById('graficoEnfrentamiento').getContext('2d');
let chart;

function actualizarGrafico(equipo) {
  const datos = partidosData[equipo];
  if (!datos) return;
  
  const data = {
    labels: [datos[3], datos[4], datos[5]],
    datasets: [{
      label: "Partidos",
      data: [datos[0], datos[1], datos[2]],
      backgroundColor: [
        coloresEquipos[datos[3]],
        coloresEquipos[datos[4]],
        coloresEquipos[datos[5]]
      ]
    }]
  };

  if (chart) chart.destroy();
  
  chart = new Chart(ctx, {
    type: 'bar',
    data: data,
    options: {
      responsive: true,
      animation: {
        duration: 1000,
        easing: 'easeOutBounce'
      },
      plugins: {
        legend: { display: false }
      }
    }
  });
}

// Función para calcular la simulación
function calcularSimulacion() {
  const tablaSimulada = JSON.parse(JSON.stringify(tablaBase)); // Copia profunda
  const partidosSimulados = document.querySelectorAll('.partido-simulado');

  partidosSimulados.forEach(partido => {
    const local = partido.querySelector('.equipo-local').value;
    const visitante = partido.querySelector('.equipo-visitante').value;
    const golesLocal = parseInt(partido.querySelector('.goles-local').value) || 0;
    const golesVisitante = parseInt(partido.querySelector('.goles-visitante').value) || 0;

    const equipoLocal = tablaSimulada.find(e => e[0] === local);
    const equipoVisitante = tablaSimulada.find(e => e[0] === visitante);

    if (equipoLocal && equipoVisitante) {
      equipoLocal[1]++; 
      equipoVisitante[1]++;
      equipoLocal[6] += golesLocal; 
      equipoLocal[7] += golesVisitante;
      equipoVisitante[6] += golesVisitante; 
      equipoVisitante[7] += golesLocal;

      if (golesLocal > golesVisitante) {
        equipoLocal[3]++; 
        equipoLocal[2] += 3;
        equipoVisitante[5]++;
      } else if (golesVisitante > golesLocal) {
        equipoVisitante[3]++; 
        equipoVisitante[2] += 3;
        equipoLocal[5]++;
      } else {
        equipoLocal[4]++; 
        equipoVisitante[4]++;
        equipoLocal[2]++; 
        equipoVisitante[2]++;
      }

      equipoLocal[8] = equipoLocal[6] - equipoLocal[7];
      equipoVisitante[8] = equipoVisitante[6] - equipoVisitante[7];
    }
  });

  // Ordenar y mostrar tabla simulada
  tablaSimulada.sort((a, b) => b[2] - a[2] || b[8] - a[8]);
  mostrarTablaSimulada(tablaSimulada);
}

function mostrarTablaSimulada(datos) {
  const contenedor = document.getElementById('tabla-simulada');
  contenedor.innerHTML = '<h3>Tabla Proyectada:</h3><table><thead><tr><th>Pos</th><th>Equipo</th><th>PTS</th><th>PG</th><th>PE</th><th>PP</th><th>GF</th><th>GC</th><th>DF</th></tr></thead><tbody></tbody></table>';

  const tbody = contenedor.querySelector('tbody');
  datos.forEach((equipo, index) => {
    const fila = document.createElement('tr');
    fila.innerHTML = `
      <td>${index + 1}</td>
      <td>${equipo[0]}</td>
      <td>${equipo[2]}</td>
      <td>${equipo[3]}</td>
      <td>${equipo[4]}</td>
      <td>${equipo[5]}</td>
      <td>${equipo[6]}</td>
      <td>${equipo[7]}</td>
      <td>${equipo[8]}</td>
    `;
    tbody.appendChild(fila);
  });
}

// Datos de jugadores (con tus estadísticas)
const estadisticasJugadores = {
  goleadores: [
    { nombre: "B. Palacios", equipo: "U. Católica", goles: 16, pj: 26, minutos: 1769 },
    { nombre: "D. Valencia", equipo: "Manta", goles: 14, pj: 25, minutos: 2113 },
    { nombre: "E. Caicedo", equipo: "Libertad", goles: 14, pj: 23, minutos: 1634 },
    { nombre: "R. Monti", equipo: "Vinotinto FC", goles: 13, pj: 26, minutos: 1887 },
    { nombre: "C. Spinelli", equipo: "I. del Valle", goles: 11, pj: 23, minutos: 1298 }
  ],
  asistencias: [
    { nombre: "P. Mercado", equipo: "I. del Valle", asistencias: 8, pj: 26, minutos: 1512 },
    { nombre: "C. Tobar", equipo: "D. Cuenca", asistencias: 8, pj: 26, minutos: 1944 }, 
    { nombre: "J. Mina", equipo: "Aucas", asistencias: 7, pj: 26, minutos: 2340 },
    { nombre: "C. Alemán", equipo: "Manta", asistencias: 7, pj: 26, minutos: 2038 },
    { nombre: "A. Alvarado", equipo: "Liga de Quito", asistencias: 7, pj: 25, minutos: 1504 }
  ]
};

// Función para mostrar estadísticas
function actualizarTopEstadisticas() {
  const escudos = {
    "Vinotinto FC": "vinotinto.png",
    "Manta": "manta.png",
    "Barcelona SC": "barcelona.png",
    "I. del Valle": "idv.png",
    "U. Católica": "catolica.png",
    "Aucas": "aucas.png",
    "El Nacional": "nacional.png",
    "D. Cuenca": "cuenca.png",
    "Libertad": "libertad.png", 
    "Liga de Quito": "ldu.png"
  };

  // Top 5 Goleadores
  const topGoles = document.getElementById('top-goleadores');
  topGoles.innerHTML = estadisticasJugadores.goleadores
    .sort((a, b) => b.goles - a.goles)
    .slice(0, 5)
    .map((jugador, index) => `
      <tr ${index === 0 ? 'style="background-color: #fff8e1; font-weight: bold;"' : ''}>
        <td>${index + 1}</td>
        <td>${jugador.nombre}</td>
        <td style="text-align: center;">
          <img src="${escudos[jugador.equipo]}" style="height: 20px; vertical-align: middle;" alt="${jugador.equipo}">
        </td>
        <td>${jugador.pj}</td>
        <td>${jugador.minutos}</td>
        <td>${jugador.goles}</td>
        <td>${(jugador.goles / jugador.pj).toFixed(2)}</td>
      </tr>
    `).join('');

  // Top 5 Asistencias
  const topAsistencias = document.getElementById('top-asistencias');
  topAsistencias.innerHTML = estadisticasJugadores.asistencias
    .sort((a, b) => b.asistencias - a.asistencias)
    .slice(0, 5)
    .map((jugador, index) => `
      <tr ${index === 0 ? 'style="background-color: #e8f5e9; font-weight: bold;"' : ''}>
        <td>${index + 1}</td>
        <td>${jugador.nombre}</td>
        <td style="text-align: center;">
          <img src="${escudos[jugador.equipo]}" style="height: 20px; vertical-align: middle;" alt="${jugador.equipo}">
        </td>
        <td>${jugador.pj}</td>
        <td>${jugador.minutos}</td>
        <td>${jugador.asistencias}</td>
        <td>${(jugador.asistencias / jugador.pj).toFixed(2)}</td>
      </tr>
    `).join('');
}

// Event listeners
document.getElementById('selector-enfrentamiento')
  .addEventListener('change', e => actualizarGrafico(e.target.value));

document.getElementById('calcular-simulacion')
  .addEventListener('click', calcularSimulacion);

// Inicialización
document.addEventListener("DOMContentLoaded", () => {
  actualizarTabla();
  actualizarTopEstadisticas();
  actualizarGrafico('LDU-Quito');
  renderizarFechas();
  openTab('actual'); // Mostrar pestaña de fechas actuales por defecto
  
  // Actualizar al modificar resultados
 // document.querySelectorAll('.match-table td:nth-child(3), .match-table td:nth-child(5)').forEach(td => {
   // td.addEventListener('input', actualizarTabla);
 // });
});
// Manejo del menú hamburguesa
document.querySelector('.menu-toggle').addEventListener('click', function() {
  document.getElementById('main-nav').classList.toggle('active');
  document.body.classList.toggle('nav-active');
});

// Cerrar menú al hacer clic fuera en móviles
document.body.addEventListener('click', function(e) {
  if (window.innerWidth <= 992 && 
      !e.target.closest('#main-nav') && 
      !e.target.closest('.menu-toggle') &&
      document.getElementById('main-nav').classList.contains('active')) {
    document.getElementById('main-nav').classList.remove('active');
    document.body.classList.remove('nav-active');
  }
});

// Cerrar menú al seleccionar una opción (modificar la función showSection)
function showSection(id) {
  document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  
  if (id === 'historica') {
    actualizarDatosHistoricos();
  }
  
  // Cerrar menú en móviles al seleccionar una opción
  if (window.innerWidth <= 992) {
    document.getElementById('main-nav').classList.remove('active');
    document.body.classList.remove('nav-active');
  }
}
// Datos históricos extraídos del Excel
const datosHistoricos = [
  { equipo: "Barcelona SC", ptsHis: 3471, ptsx3V: 4028, pj: 2423, pgt: 1122, pg2: 557, pg3: 565, pe: 662, pp: 639, gf: 3557, gc: 2424, gd: 1133, porcPG: "46.31%", porcPE: "27.32%", porcPP: "26.37%" },
  { equipo: "Emelec", ptsHis: 3198, ptsx3V: 3678, pj: 2268, pgt: 1033, pg2: 480, pg3: 553, pe: 579, pp: 656, gf: 3443, gc: 2572, gd: 871, porcPG: "45.55%", porcPE: "25.53%", porcPP: "28.92%" },
  { equipo: "Liga de Quito", ptsHis: 3136, ptsx3V: 3538, pj: 2238, pgt: 967, pg2: 402, pg3: 565, pe: 637, pp: 634, gf: 3360, gc: 2533, gd: 827, porcPG: "43.21%", porcPE: "28.46%", porcPP: "28.33%" },
  { equipo: "El Nacional", ptsHis: 3115, ptsx3V: 3624, pj: 2327, pgt: 992, pg2: 509, pg3: 483, pe: 648, pp: 687, gf: 3548, gc: 2659, gd: 889, porcPG: "42.63%", porcPE: "27.85%", porcPP: "29.52%" },
  { equipo: "D. Quito", ptsHis: 2240, ptsx3V: 2587, pj: 1818, pgt: 691, pg2: 347, pg3: 344, pe: 514, pp: 613, gf: 2501, gc: 2307, gd: 194, porcPG: "38.01%", porcPE: "28.27%", porcPP: "33.72%" },
  { equipo: "D. Cuenca", ptsHis: 2159, ptsx3V: 2422, pj: 1823, pgt: 636, pg2: 263, pg3: 373, pe: 514, pp: 673, gf: 2154, gc: 2255, gd: -101, porcPG: "34.89%", porcPE: "28.20%", porcPP: "36.92%" },
  { equipo: "Aucas", ptsHis: 1654, ptsx3V: 1846, pj: 1426, pgt: 480, pg2: 192, pg3: 288, pe: 406, pp: 540, gf: 1856, gc: 1993, gd: -137, porcPG: "33.66%", porcPE: "28.47%", porcPP: "37.87%" },
  { equipo: "U. Católica", ptsHis: 1477, ptsx3V: 1764, pj: 1272, pgt: 474, pg2: 287, pg3: 187, pe: 342, pp: 456, gf: 1706, gc: 1604, gd: 102, porcPG: "37.26%", porcPE: "26.89%", porcPP: "35.85%" },
  { equipo: "Macará", ptsHis: 1228, ptsx3V: 1363, pj: 1115, pgt: 347, pg2: 135, pg3: 212, pe: 322, pp: 446, gf: 1361, gc: 1598, gd: -237, porcPG: "31.12%", porcPE: "28.88%", porcPP: "40.00%" },
  { equipo: "T. Universitario", ptsHis: 1146, ptsx3V: 1360, pj: 1136, pgt: 354, pg2: 214, pg3: 140, pe: 298, pp: 484, gf: 1346, gc: 1626, gd: -280, porcPG: "31.16%", porcPE: "26.23%", porcPP: "42.61%" },
  { equipo: "Olmedo", ptsHis: 1117, ptsx3V: 1126, pj: 917, pgt: 284, pg2: 9, pg3: 275, pe: 274, pp: 359, gf: 1015, gc: 1233, gd: -218, porcPG: "30.97%", porcPE: "29.88%", porcPP: "39.15%" },
  { equipo: "I. del Valle", ptsHis: 939, ptsx3V: 939, pj: 576, pgt: 267, pg2: 0, pg3: 267, pe: 138, pp: 171, gf: 864, gc: 651, gd: 213, porcPG: "46.35%", porcPE: "23.96%", porcPP: "29.69%" },
  { equipo: "Espoli", ptsHis: 800, ptsx3V: 822, pj: 658, pgt: 218, pg2: 22, pg3: 196, pe: 168, pp: 272, gf: 832, gc: 926, gd: -94, porcPG: "33.13%", porcPE: "25.53%", porcPP: "41.34%" },
  { equipo: "Delfín", ptsHis: 796, ptsx3V: 855, pj: 676, pgt: 228, pg2: 59, pg3: 169, pe: 171, pp: 277, gf: 839, gc: 1036, gd: -197, porcPG: "33.73%", porcPE: "25.30%", porcPP: "40.98%" },
  { equipo: "Liga de Portoviejo", ptsHis: 720, ptsx3V: 922, pj: 787, pgt: 239, pg2: 202, pg3: 37, pe: 205, pp: 343, gf: 990, gc: 1294, gd: -304, porcPG: "30.37%", porcPE: "26.05%", porcPP: "43.58%" },
  { equipo: "América de Quito", ptsHis: 575, ptsx3V: 762, pj: 648, pgt: 193, pg2: 187, pg3: 6, pe: 183, pp: 272, gf: 730, gc: 857, gd: -127, porcPG: "29.78%", porcPE: "28.24%", porcPP: "41.98%" },
  { equipo: "9 de Octubre", ptsHis: 465, ptsx3V: 605, pj: 514, pgt: 162, pg2: 140, pg3: 22, pe: 119, pp: 233, gf: 642, gc: 804, gd: -162, porcPG: "31.52%", porcPE: "23.15%", porcPP: "45.33%" },
  { equipo: "Mushuc Runa", ptsHis: 346, ptsx3V: 346, pj: 312, pgt: 86, pg2: 0, pg3: 86, pe: 88, pp: 138, gf: 352, gc: 474, gd: -122, porcPG: "27.56%", porcPE: "28.21%", porcPP: "44.23%" },
  { equipo: "Guayaquil City", ptsHis: 338, ptsx3V: 338, pj: 326, pgt: 85, pg2: 0, pg3: 85, pe: 83, pp: 158, gf: 332, gc: 481, gd: -149, porcPG: "26.07%", porcPE: "25.46%", porcPP: "48.47%" },
  { equipo: "Filanbanco", ptsHis: 324, ptsx3V: 445, pj: 290, pgt: 121, pg2: 121, pg3: 0, pe: 82, pp: 87, gf: 438, gc: 323, gd: 115, porcPG: "41.72%", porcPE: "28.28%", porcPP: "30.00%" },
  { equipo: "Liga de Loja", ptsHis: 306, ptsx3V: 306, pj: 256, pgt: 82, pg2: 0, pg3: 82, pe: 60, pp: 114, gf: 306, gc: 378, gd: -72, porcPG: "32.03%", porcPE: "23.44%", porcPP: "44.53%" },
  { equipo: "Manta", ptsHis: 254, ptsx3V: 254, pj: 242, pgt: 62, pg2: 0, pg3: 62, pe: 68, pp: 112, gf: 250, gc: 353, gd: -103, porcPG: "25.62%", porcPE: "28.10%", porcPP: "46.28%" },
  { equipo: "D. Quevedo", ptsHis: 252, ptsx3V: 315, pj: 325, pgt: 78, pg2: 63, pg3: 15, pe: 81, pp: 166, gf: 299, gc: 533, gd: -234, porcPG: "24.00%", porcPE: "24.92%", porcPP: "51.08%" },
  { equipo: "Green Cross", ptsHis: 235, ptsx3V: 281, pj: 217, pgt: 78, pg2: 46, pg3: 32, pe: 47, pp: 92, gf: 271, gc: 322, gd: -51, porcPG: "35.94%", porcPE: "21.66%", porcPP: "42.40%" },
  { equipo: "Manta Sport", ptsHis: 228, ptsx3V: 312, pj: 268, pgt: 84, pg2: 84, pg3: 0, pe: 60, pp: 124, gf: 328, gc: 428, gd: -100, porcPG: "31.34%", porcPE: "22.39%", porcPP: "46.27%" },
  { equipo: "Everest", ptsHis: 220, ptsx3V: 296, pj: 264, pgt: 76, pg2: 76, pg3: 0, pe: 68, pp: 120, gf: 352, gc: 475, gd: -123, porcPG: "28.79%", porcPE: "25.76%", porcPP: "45.45%" },
  { equipo: "Audaz Octubrino", ptsHis: 218, ptsx3V: 287, pj: 252, pgt: 78, pg2: 69, pg3: 9, pe: 53, pp: 121, gf: 258, gc: 391, gd: -133, porcPG: "30.95%", porcPE: "21.03%", porcPP: "48.02%" },
  { equipo: "Orense", ptsHis: 175, ptsx3V: 175, pj: 150, pgt: 41, pg2: 0, pg3: 41, pe: 52, pp: 57, gf: 145, gc: 182, gd: -37, porcPG: "27.33%", porcPE: "34.67%", porcPP: "38.00%" },
  { equipo: "Esmeraldas Petrolero", ptsHis: 138, ptsx3V: 189, pj: 150, pgt: 51, pg2: 51, pg3: 0, pe: 36, pp: 63, gf: 169, gc: 200, gd: -31, porcPG: "34.00%", porcPE: "24.00%", porcPP: "42.00%" },
  { equipo: "Patria", ptsHis: 124, ptsx3V: 170, pj: 128, pgt: 46, pg2: 46, pg3: 0, pe: 32, pp: 50, gf: 161, gc: 173, gd: -12, porcPG: "35.94%", porcPE: "25.00%", porcPP: "39.06%" },
  { equipo: "Valdez", ptsHis: 122, ptsx3V: 166, pj: 130, pgt: 44, pg2: 44, pg3: 0, pe: 34, pp: 52, gf: 148, gc: 175, gd: -27, porcPG: "33.85%", porcPE: "26.15%", porcPP: "40.00%" },
  { equipo: "Imbabura", ptsHis: 111, ptsx3V: 111, pj: 110, pgt: 28, pg2: 0, pg3: 28, pe: 27, pp: 55, gf: 124, gc: 196, gd: -72, porcPG: "25.45%", porcPE: "24.55%", porcPP: "50.00%" },
  { equipo: "D. Azogues", ptsHis: 106, ptsx3V: 106, pj: 96, pgt: 28, pg2: 0, pg3: 28, pe: 22, pp: 46, gf: 99, gc: 135, gd: -36, porcPG: "29.17%", porcPE: "22.92%", porcPP: "47.92%" },
  { equipo: "Politécnico", ptsHis: 101, ptsx3V: 134, pj: 113, pgt: 33, pg2: 33, pg3: 0, pe: 35, pp: 45, gf: 156, gc: 173, gd: -17, porcPG: "29.20%", porcPE: "30.97%", porcPP: "39.82%" },
  { equipo: "Fuerza Amarilla", ptsHis: 83, ptsx3V: 83, pj: 118, pgt: 19, pg2: 0, pg3: 19, pe: 26, pp: 73, gf: 107, gc: 212, gd: -105, porcPG: "16.10%", porcPE: "22.03%", porcPP: "61.86%" },
  { equipo: "Cumbayá", ptsHis: 81, ptsx3V: 81, pj: 90, pgt: 18, pg2: 0, pg3: 18, pe: 27, pp: 45, gf: 76, gc: 131, gd: -55, porcPG: "20.00%", porcPE: "30.00%", porcPP: "50.00%" },
  { equipo: "Carmen Mora", ptsHis: 61, ptsx3V: 81, pj: 76, pgt: 20, pg2: 20, pg3: 0, pe: 21, pp: 35, gf: 77, gc: 121, gd: -44, porcPG: "26.32%", porcPE: "27.63%", porcPP: "46.05%" },
  { equipo: "Gualaceo", ptsHis: 59, ptsx3V: 59, pj: 60, pgt: 16, pg2: 0, pg3: 16, pe: 11, pp: 33, gf: 54, gc: 99, gd: -45, porcPG: "26.67%", porcPE: "18.33%", porcPP: "55.00%" },
  { equipo: "Libertad", ptsHis: 55, ptsx3V: 55, pj: 60, pgt: 12, pg2: 0, pg3: 12, pe: 19, pp: 29, gf: 60, gc: 87, gd: -27, porcPG: "20.00%", porcPE: "31.67%", porcPP: "48.33%" },
  { equipo: "River Plate (Riobamba)", ptsHis: 49, ptsx3V: 64, pj: 68, pgt: 15, pg2: 15, pg3: 0, pe: 19, pp: 34, gf: 60, gc: 103, gd: -43, porcPG: "22.06%", porcPE: "27.94%", porcPP: "50.00%" },
  { equipo: "Panamá", ptsHis: 34, ptsx3V: 34, pj: 53, pgt: 6, pg2: 0, pg3: 6, pe: 16, pp: 31, gf: 41, gc: 94, gd: -53, porcPG: "11.32%", porcPE: "30.19%", porcPP: "58.49%" },
  { equipo: "Juventus", ptsHis: 34, ptsx3V: 43, pj: 56, pgt: 9, pg2: 9, pg3: 0, pe: 16, pp: 31, gf: 47, gc: 102, gd: -55, porcPG: "16.07%", porcPE: "28.57%", porcPP: "55.36%" },
  { equipo: "Norte América", ptsHis: 34, ptsx3V: 47, pj: 60, pgt: 13, pg2: 13, pg3: 0, pe: 8, pp: 39, gf: 53, gc: 117, gd: -64, porcPG: "21.67%", porcPE: "13.33%", porcPP: "65.00%" },
  { equipo: "Juventud Italiana", ptsHis: 32, ptsx3V: 41, pj: 35, pgt: 9, pg2: 9, pg3: 0, pe: 14, pp: 12, gf: 44, gc: 62, gd: -18, porcPG: "25.71%", porcPE: "40.00%", porcPP: "34.29%" },
  { equipo: "Clan Juvenil", ptsHis: 29, ptsx3V: 29, pj: 44, pgt: 6, pg2: 0, pg3: 6, pe: 11, pp: 27, gf: 50, gc: 102, gd: -52, porcPG: "13.64%", porcPE: "25.00%", porcPP: "61.36%" },
  { equipo: "Bonita Banana", ptsHis: 28, ptsx3V: 38, pj: 36, pgt: 10, pg2: 10, pg3: 0, pe: 8, pp: 18, gf: 28, gc: 43, gd: -15, porcPG: "27.78%", porcPE: "22.22%", porcPP: "50.00%" },
  { equipo: "Calvi", ptsHis: 26, ptsx3V: 26, pj: 37, pgt: 7, pg2: 0, pg3: 7, pe: 5, pp: 25, gf: 47, gc: 80, gd: -33, porcPG: "18.92%", porcPE: "13.51%", porcPP: "67.57%" },
  { equipo: "Juvenil", ptsHis: 26, ptsx3V: 34, pj: 38, pgt: 8, pg2: 8, pg3: 0, pe: 10, pp: 20, gf: 36, gc: 87, gd: -51, porcPG: "21.05%", porcPE: "26.32%", porcPP: "52.63%" },
  { equipo: "Atlético Riobamba", ptsHis: 24, ptsx3V: 29, pj: 34, pgt: 5, pg2: 5, pg3: 0, pe: 14, pp: 15, gf: 35, gc: 55, gd: -20, porcPG: "14.71%", porcPE: "41.18%", porcPP: "44.12%" },
  { equipo: "Español", ptsHis: 24, ptsx3V: 33, pj: 38, pgt: 9, pg2: 9, pg3: 0, pe: 6, pp: 23, gf: 44, gc: 69, gd: -25, porcPG: "23.68%", porcPE: "15.79%", porcPP: "60.53%" },
  { equipo: "Guayaquil Sport", ptsHis: 23, ptsx3V: 31, pj: 34, pgt: 8, pg2: 8, pg3: 0, pe: 7, pp: 19, gf: 30, gc: 63, gd: -33, porcPG: "23.53%", porcPE: "20.59%", porcPP: "55.88%" },
  { equipo: "Liga de Cuenca", ptsHis: 20, ptsx3V: 26, pj: 36, pgt: 6, pg2: 6, pg3: 0, pe: 8, pp: 22, gf: 24, gc: 64, gd: -40, porcPG: "16.67%", porcPE: "22.22%", porcPP: "61.11%" },
  { equipo: "Brasil", ptsHis: 19, ptsx3V: 25, pj: 28, pgt: 6, pg2: 6, pg3: 0, pe: 7, pp: 15, gf: 20, gc: 50, gd: -30, porcPG: "21.43%", porcPE: "25.00%", porcPP: "53.57%" },
  { equipo: "Estibadores Navales", ptsHis: 17, ptsx3V: 23, pj: 26, pgt: 6, pg2: 6, pg3: 0, pe: 5, pp: 15, gf: 38, gc: 57, gd: -19, porcPG: "23.08%", porcPE: "19.23%", porcPP: "57.69%" },
  { equipo: "España", ptsHis: 14, ptsx3V: 18, pj: 24, pgt: 4, pg2: 4, pg3: 0, pe: 6, pp: 14, gf: 31, gc: 55, gd: -24, porcPG: "16.67%", porcPE: "25.00%", porcPP: "58.33%" },
  { equipo: "América de Ambato", ptsHis: 14, ptsx3V: 19, pj: 39, pgt: 5, pg2: 5, pg3: 0, pe: 4, pp: 30, gf: 50, gc: 112, gd: -62, porcPG: "12.82%", porcPE: "10.26%", porcPP: "76.92%" },
  { equipo: "América de Manta", ptsHis: 13, ptsx3V: 18, pj: 13, pgt: 5, pg2: 5, pg3: 0, pe: 3, pp: 5, gf: 15, gc: 20, gd: -5, porcPG: "38.46%", porcPE: "23.08%", porcPP: "38.46%" },
  { equipo: "U. D. Valdez", ptsHis: 13, ptsx3V: 18, pj: 18, pgt: 5, pg2: 5, pg3: 0, pe: 3, pp: 10, gf: 25, gc: 37, gd: -12, porcPG: "27.78%", porcPE: "16.67%", porcPP: "55.56%" },
  { equipo: "Santos", ptsHis: 13, ptsx3V: 16, pj: 20, pgt: 3, pg2: 3, pg3: 0, pe: 7, pp: 10, gf: 18, gc: 36, gd: -18, porcPG: "15.00%", porcPE: "35.00%", porcPP: "50.00%" },
  { equipo: "D. Cotopaxi", ptsHis: 12, ptsx3V: 15, pj: 34, pgt: 3, pg2: 3, pg3: 0, pe: 6, pp: 25, gf: 26, gc: 78, gd: -52, porcPG: "8.82%", porcPE: "17.65%", porcPP: "73.53%" },
  { equipo: "INECEL", ptsHis: 6, ptsx3V: 8, pj: 26, pgt: 2, pg2: 2, pg3: 0, pe: 2, pp: 22, gf: 17, gc: 67, gd: -50, porcPG: "7.69%", porcPE: "7.69%", porcPP: "84.62%" },
  { equipo: "River Plate (Manta)", ptsHis: 5, ptsx3V: 7, pj: 11, pgt: 2, pg2: 2, pg3: 0, pe: 1, pp: 8, gf: 13, gc: 30, gd: -17, porcPG: "18.18%", porcPE: "9.09%", porcPP: "72.73%" },
  // Añadimos Vinotinto FC que no estaba en el histórico original
  { equipo: "Vinotinto FC", ptsHis: 0, ptsx3V: 0, pj: 0, pgt: 0, pg2: 0, pg3: 0, pe: 0, pp: 0, gf: 0, gc: 0, gd: 0, porcPG: "0%", porcPE: "0%", porcPP: "0%" }
];

// Función para cargar y mostrar la tabla histórica
function cargarTablaHistorica() {
  const tbody = document.getElementById('tabla-historica');
  tbody.innerHTML = '';
  
  // Ordenamos por PtsHis (ya debería estar ordenado, pero por si acaso)
  datosHistoricos.sort((a, b) => b.ptsHis - a.ptsHis);
  
  datosHistoricos.forEach((equipo, index) => {
    const fila = document.createElement('tr');
    
    // Aplicamos clases especiales para los escudos de algunos equipos
    const claseEscudo = 
      equipo.equipo === "Liga de Quito" ? "ldu" :
      equipo.equipo === "Macará" ? "macara" :
      equipo.equipo === "T. Universitario" ? "tecnico" : "";
    
    fila.innerHTML = `
      <td>${index + 1}</td>
      <td class="celda-equipo">
        <img src="${escudosEquipos[equipo.equipo] || 'default.png'}" class="escudo-equipo ${claseEscudo}">
        <span class="nombre-equipo">${equipo.equipo}</span>
      </td>
      <td>${equipo.ptsHis}</td>
      <td>${equipo.ptsx3V}</td>
      <td>${equipo.pj}</td>
      <td>${equipo.pgt}</td>
      <td>${equipo.pg2}</td>
      <td>${equipo.pg3}</td>
      <td>${equipo.pe}</td>
      <td>${equipo.pp}</td>
      <td>${equipo.gf}</td>
      <td>${equipo.gc}</td>
      <td>${equipo.gd}</td>
      <td>${equipo.porcPG}</td>
      <td>${equipo.porcPE}</td>
      <td>${equipo.porcPP}</td>
    `;
    
    // Aplicamos clases de color según la posición histórica
    if (index < 4) fila.classList.add("top-pos"); // Top 4
    else if (index < 10) fila.classList.add("mid-pos"); // Del 5 al 10
    else if (index < 20) fila.classList.add("low-pos"); // Del 11 al 20
    
    tbody.appendChild(fila);
  });
}
// Función para actualizar los datos históricos con la temporada actual
let datosActualizados = false;

function actualizarDatosHistoricos() {
  // Evitar doble actualización
  if (datosActualizados) return;
  
  // Obtener datos ACTUALES de la tabla de posiciones 2025
  const equipos2025 = [];
  document.querySelectorAll('#tabla-posiciones tr').forEach(fila => {
    const celdas = fila.querySelectorAll('td');
    if (celdas.length >= 9) {
      const equipo = celdas[1].querySelector('.nombre-equipo').textContent.trim();
      const pj = parseInt(celdas[2].textContent);
      const pts = parseInt(celdas[3].textContent);
      const pg = parseInt(celdas[4].textContent);
      const pe = parseInt(celdas[5].textContent);
      const pp = parseInt(celdas[6].textContent);
      const gf = parseInt(celdas[7].textContent);
      const gc = parseInt(celdas[8].textContent);
      
      equipos2025.push({
        equipo: equipo,
        pj: pj,
        pts: pts,
        pg: pg,
        pe: pe,
        pp: pp,
        gf: gf,
        gc: gc,
        gd: gf - gc
      });
    }
  });

  // Actualizar datos históricos
  equipos2025.forEach(equipo2025 => {
    const equipoHist = datosHistoricos.find(e => e.equipo === equipo2025.equipo);
    
    if (equipoHist) {
      // Actualizar estadísticas básicas (sumar temporada 2025)
      equipoHist.pj += equipo2025.pj;
      equipoHist.pgt += equipo2025.pg;  // Total de victorias
      equipoHist.pg3 += equipo2025.pg;  // Victorias de 3 puntos (todas las de 2025)
      equipoHist.pe += equipo2025.pe;
      equipoHist.pp += equipo2025.pp;
      equipoHist.gf += equipo2025.gf;
      equipoHist.gc += equipo2025.gc;
      equipoHist.gd = equipoHist.gf - equipoHist.gc;
      
      // CALCULO CORRECTO DE PUNTOS:
      // 1. ptsHis: Puntos históricos (victorias antiguas de 2 pts + nuevas de 3 pts)
      //    - Mantenemos los ptsHis originales (que ya incluían victorias de 2 pts si las había)
      //    - Sumamos las nuevas victorias (de 2025) como 3 puntos cada una
      equipoHist.ptsHis = (equipoHist.ptsHis || 0) + (equipo2025.pg * 3) + equipo2025.pe;
      
      // 2. ptsx3V: Puntos como si siempre fueran 3 por victoria
      //    - Para equipos antiguos: recalculamos todas sus victorias como de 3 puntos
      //    - Para equipos nuevos: solo sumamos los puntos de 2025 (ya son de 3 pts)
      equipoHist.ptsx3V = (equipoHist.pgt * 3) + equipoHist.pe;
      
      // Calcular porcentajes actualizados
      const totalPJ = equipoHist.pj;
      equipoHist.porcPG = ((equipoHist.pgt / totalPJ) * 100).toFixed(2) + "%";
      equipoHist.porcPE = ((equipoHist.pe / totalPJ) * 100).toFixed(2) + "%";
      equipoHist.porcPP = ((equipoHist.pp / totalPJ) * 100).toFixed(2) + "%";
    } else {
      // Para equipos nuevos (como Vinotinto FC) - todos sus puntos son de 3
      datosHistoricos.push({
        equipo: equipo2025.equipo,
        ptsHis: equipo2025.pts, // Usamos directamente los puntos de 2025 (ya son de 3)
        ptsx3V: equipo2025.pts, // Igual que ptsHis porque son todos de 3 pts
        pj: equipo2025.pj,
        pgt: equipo2025.pg,
        pg2: 0,    // No hay victorias de 2 puntos
        pg3: equipo2025.pg, // Todas las victorias son de 3 puntos
        pe: equipo2025.pe,
        pp: equipo2025.pp,
        gf: equipo2025.gf,
        gc: equipo2025.gc,
        gd: equipo2025.gd,
        porcPG: ((equipo2025.pg / equipo2025.pj) * 100).toFixed(2) + "%",
        porcPE: ((equipo2025.pe / equipo2025.pj) * 100).toFixed(2) + "%",
        porcPP: ((equipo2025.pp / equipo2025.pj) * 100).toFixed(2) + "%"
      });
    }
  });
  
  // Reordenar por puntos históricos (ptsHis) y mostrar
  datosHistoricos.sort((a, b) => b.ptsHis - a.ptsHis);
  cargarTablaHistorica();
  datosActualizados = true;
}
// También actualizamos cuando se cambia a la sección histórica
function showSection(id) {
  document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  
  if (id === 'historica') {
    actualizarDatosHistoricos();
  }
  
  // Cerrar menú en móviles al seleccionar una opción
  if (window.innerWidth <= 992) {
    document.getElementById('main-nav').classList.remove('active');
    document.body.classList.remove('nav-active');
  }
}
// Asegurar que la navegación esté visible en desktop al cargar
document.addEventListener("DOMContentLoaded", () => {
  // Primero actualizar la tabla actual
  actualizarTabla();
  
  // Luego otras inicializaciones
  actualizarTopEstadisticas();
  actualizarGrafico('LDU-Quito');
  renderizarFechas();
  openTab('actual');
  
  // Inicializar sistema de votación
  inicializarSistemaVotacion();
  
  // Finalmente actualizar datos históricos
  actualizarDatosHistoricos();
  
  // Control de menú en desktop
  if (window.innerWidth > 992) {
    document.getElementById('main-nav').classList.add('active');
    document.body.classList.add('nav-active');
  }
});
// SISTEMA DE VOTACIÓN SIMPLIFICADO - VERSIÓN FUNCIONAL
function inicializarSistemaVotacion() {
    console.log("🔵 Inicializando sistema de votación...");
    
    // Esperar a que los elementos estén disponibles
    setTimeout(function() {
        const pollOptions = document.getElementById('pollOptions');
        const voteBtn = document.getElementById('voteBtn');
        
        if (!pollOptions || !voteBtn) {
            console.error("❌ Elementos de votación no encontrados");
            return;
        }

        const teams = {
            'idv': { name: 'Independiente del Valle', logo: 'idv.png', color: '#FF1493' },
            'bsc': { name: 'Barcelona SC', logo: 'barcelona.png', color: '#FFD700' },
            'ldu': { name: 'Liga de Quito', logo: 'ldu.png', color: '#FFFFFF' },
            'aucas': { name: 'Aucas', logo: 'aucas.png', color: '#000000' },
            'cuenca': { name: 'Deportivo Cuenca', logo: 'cuenca.png', color: '#FF0000' },
            'orense': { name: 'Orense', logo: 'orense.png', color: '#00BFFF' }
        };

        let selectedTeam = null;
        let hasVoted = localStorage.getItem('hasVoted') === 'true';
        let votes = JSON.parse(localStorage.getItem('pollVotes')) || { total: 0 };

        // Inicializar votos para cada equipo
        Object.keys(teams).forEach(teamId => {
            if (votes[teamId] === undefined) {
                votes[teamId] = 0;
            }
        });

        // Configurar eventos de opciones
        const options = pollOptions.querySelectorAll('.poll-option');
        options.forEach(option => {
            option.addEventListener('click', function() {
                if (hasVoted) {
                    alert('Ya has votado anteriormente. Solo puedes votar una vez.');
                    return;
                }
                
                options.forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                selectedTeam = this.dataset.team;
            });
        });

        // Evento del botón de votar
        voteBtn.addEventListener('click', function() {
            if (hasVoted) {
                alert('Ya has votado anteriormente.');
                return;
            }
            
            if (!selectedTeam) {
                alert('Por favor selecciona un equipo para votar');
                return;
            }

            // Registrar voto
            votes[selectedTeam]++;
            votes.total++;
            
            // Guardar en localStorage
            localStorage.setItem('pollVotes', JSON.stringify(votes));
            localStorage.setItem('hasVoted', 'true');
            hasVoted = true;
            
            // Actualizar UI
            voteBtn.disabled = true;
            voteBtn.textContent = 'Ya votaste';
            
            alert(`¡Gracias por tu voto! Has votado por ${teams[selectedTeam].name}.`);
            mostrarResultados();
        });

        function mostrarResultados() {
            const resultsContainer = document.getElementById('resultsContainer');
            const totalVotes = document.getElementById('totalVotes');
            const pollResults = document.getElementById('pollResults');
            
            if (!resultsContainer) return;
            
            resultsContainer.innerHTML = '';
            
            // Ordenar equipos por votos
            const sortedTeams = Object.entries(teams)
                .map(([id, data]) => ({ id, ...data, votes: votes[id] || 0 }))
                .sort((a, b) => b.votes - a.votes);
            
            sortedTeams.forEach(team => {
                const percent = votes.total > 0 ? ((team.votes / votes.total) * 100).toFixed(1) : 0;
                
                const resultBar = document.createElement('div');
                resultBar.className = 'result-bar';
                resultBar.innerHTML = `
                    <div class="result-team">
                        <img src="${team.logo}" alt="${team.name}" width="25" height="25">
                        ${team.name}
                    </div>
                    <div class="result-progress">
                        <div class="result-fill" style="width: ${percent}%; background-color: ${team.color};"></div>
                    </div>
                    <div class="result-percent">${percent}% (${team.votes})</div>
                `;
                
                resultsContainer.appendChild(resultBar);
            });
            
            if (totalVotes) {
                totalVotes.textContent = `Total de votos: ${votes.total}`;
            }
            if (pollResults) {
                pollResults.style.display = 'block';
            }
        }

        // Mostrar resultados si ya votó
        if (hasVoted) {
            voteBtn.disabled = true;
            voteBtn.textContent = 'Ya votaste';
            mostrarResultados();
        }
        
        console.log("✅ Sistema de votación inicializado correctamente");
    }, 500); // Esperar 500ms para asegurar que el DOM esté listo
}

// INICIALIZACIÓN PRINCIPAL - VERSIÓN SIMPLIFICADA
document.addEventListener("DOMContentLoaded", function() {
    console.log("📋 Inicializando aplicación...");
    
    // Funciones básicas
    actualizarTabla();
    actualizarTopEstadisticas();
    actualizarGrafico('LDU-Quito');
    renderizarFechas();
    openTab('actual');
    
    // Sistema de votación (lo iniciamos con retraso)
    setTimeout(inicializarSistemaVotacion, 1000);
    
    // Menú hamburguesa
    const menuToggle = document.querySelector('.menu-toggle');
    if (menuToggle) {
        menuToggle.addEventListener('click', function() {
            document.getElementById('main-nav').classList.toggle('active');
            document.body.classList.toggle('nav-active');
        });
    }
    
    // Cerrar menú al hacer clic fuera
    document.addEventListener('click', function(e) {
        if (window.innerWidth <= 992 && 
            !e.target.closest('#main-nav') && 
            !e.target.closest('.menu-toggle') &&
            document.getElementById('main-nav').classList.contains('active')) {
            document.getElementById('main-nav').classList.remove('active');
            document.body.classList.remove('nav-active');
        }
    });
});

// CARRUSEL SIMPLIFICADO
function initCarousel() {
    const slider = document.querySelector('.slider-container');
    const slides = document.querySelectorAll('.slide');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    
    if (!slider || slides.length === 0) return;
    
    let currentIndex = 0;
    
    function goToSlide(index) {
        currentIndex = index;
        slider.style.transform = `translateX(-${currentIndex * 100}%)`;
    }
    
    if (prevBtn) prevBtn.addEventListener('click', () => goToSlide((currentIndex - 1 + slides.length) % slides.length));
    if (nextBtn) nextBtn.addEventListener('click', () => goToSlide((currentIndex + 1) % slides.length));
    
    setInterval(() => goToSlide((currentIndex + 1) % slides.length), 5000);
}

// Iniciar carrusel
document.addEventListener("DOMContentLoaded", initCarousel);
</script>
</body>
</html>
